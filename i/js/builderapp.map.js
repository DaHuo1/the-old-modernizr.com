{"version":3,"sources":["modulizr.js","underscore-min.js","uglifyjs/lib/parse-js.js","uglifyjs/lib/process.js","uglifyjs/lib/squeeze-more.js","uglifyjs/bin/uglifyjs.js","builderapp.js"],"names":["global","Modulizr","_dependencies","canvastext","csstransforms3d","flexbox","cssgradients","opacity","indexeddb","backgroundsize","borderimage","borderradius","boxshadow","cssanimations","csscolumns","cssreflections","csstransitions","testallprops","flexbox-legacy","prefixed","csstransforms","mq","hashchange","draganddrop","generatedcontent","svg","inlinesvg","smil","svgclippaths","input","inputtypes","touch","fontface","testbundle","respond","websockets","a_download","audio_audiodata_api","audio_webaudio_api","battery_api","battery_level","canvas_todataurl_type","contenteditable","contextmenu","cookies","cors","css_backgroundcliptext","css_backgroundrepeat","css_backgroundsizecover","css_boxsizing","css_cubicbezierrange","css_displayrunin","css_displaytable","css_filters","css_hyphens","css_mask","css_mediaqueries","css_overflow_scrolling","css_pointerevents","css_remunit","css_resize","css_scrollbars","css_shapes","css_userselect","custom_protocol_handler","dataview_api","dom_classlist","dom_createElement_attrs","dom_dataset","dom_microdata","elem_datalist","elem_details","elem_output","elem_progress_meter","elem_ruby","elem_time","elem_track","emoji","es5_strictmode","event_deviceorientation_motion","file_api","file_filesystem","forms_placeholder","forms_speechinput","forms_validation","fullscreen_api","gamepad","getusermedia","ie8compat","img_apng","img_webp","json","lists_reversed","localstorage","mathml","network_connection","network_eventsource","notification","performance","quota_management_api","requestanimationframe","sessionstorage","script_async","script_defer","unicode","url_data_uri","userdata","web_intents","webgl_extensions","websockets_binary","window_framed","workers_blobworkers","workers_dataworkers","workers_sharedworkers","blob-constructor","css-backgroundcliptext","css-backgroundposition-fourvalues","css-backgroundposition-xy","css-calc","css-lastchild","css-regions","css-subpixelfont","network-xhr2","style-scoped","svg-filters","forms-fileinput","vibrate","vibration","contentsecuritypolicy","css-objectfit","css-positionsticky","css-supports","css-vhunit","css-vmaxunit","css-vminunit","css-vwunit","forms-formattribute","iframe-sandbox","iframe-seamless","iframe-srcdoc","pointerlock-api","ize","source","tests","autoCB","js_notests","js_noret","js_nostr","parsed","i","j","k","l","z","strings","retStack","testStack","sid","Date","multilinespaceExp","RegExp","this","wantedHash","hash","length","replace","hasOwnProperty","push","_handleSpecialCases","_removeComments","$0","$1","code","name","_pullOutTests","test","wanted","normalRemoval","key","specialCases","shiv","cssclasses","addtest","teststyles","testprop","hasevent","prefixes","domprefixes","ns","smile","inputelem","webforms","sub","start","end","sub2","bracketStack","tmpStart","tmpEnd","spaceOffset","substr","toLowerCase","charAt","parenStack","str","split","mode","singleQuote","doubleQuote","regex","blockComment","lineComment","condComp","join","slice","_indexOf","array","item","ArrayProto","Array","prototype","indexOf","q","C","_","m","n","Object","D","unshift","E","toString","o","s","forEach","t","map","u","reduce","v","reduceRight","w","filter","x","every","y","some","p","lastIndexOf","isArray","F","keys","c","a","module","exports","VERSION","each","b","d","isNumber","e","f","call","g","h","foldl","inject","bind","G","TypeError","foldr","toArray","reverse","find","detect","A","select","reject","all","identity","any","include","contains","invoke","arguments","apply","pluck","max","Math","computed","Infinity","value","min","sortBy","criteria","sort","sortedIndex","isArguments","values","size","first","head","rest","tail","isUndefined","last","compact","flatten","concat","without","uniq","unique","intersect","zip","range","ceil","bindAll","functions","memoize","delay","setTimeout","defer","B","clearTimeout","throttle","debounce","wrap","compose","methods","isFunction","extend","clone","tap","isEqual","_chain","_wrapped","isDate","getTime","isNaN","isRegExp","ignoreCase","multiline","isEmpty","isString","isElement","nodeType","constructor","charCodeAt","toExponential","toFixed","isBoolean","getTimezoneOffset","setUTCFullYear","exec","isNull","noConflict","times","mixin","H","I","uniqueId","templateSettings","evaluate","interpolate","template","Function","r","chain","KEYWORDS","array_to_hash","RESERVED_WORDS","KEYWORDS_BEFORE_EXPRESSION","KEYWORDS_ATOM","OPERATOR_CHARS","characters","RE_HEX_NUMBER","RE_OCT_NUMBER","RE_DEC_NUMBER","OPERATORS","WHITESPACE_CHARS","PUNC_BEFORE_EXPRESSION","PUNC_CHARS","REGEXP_MODIFIERS","UNICODE","letter","non_spacing_mark","space_combining_mark","connector_punctuation","is_letter","ch","is_digit","is_alphanumeric_char","is_unicode_combining_mark","is_unicode_connector_punctuation","is_identifier_start","is_identifier_char","parse_js_number","num","parseInt","parseFloat","JS_Parse_Error","message","line","col","pos","stack","Error","js_error","is_token","token","type","val","EX_EOF","tokenizer","$TEXT","S","text","tokpos","tokline","tokcol","newline_before","regex_allowed","comments_before","peek","next","signal_eof","in_string","eof","what","start_token","is_comment","HOP","UNARY_POSTFIX","ret","endpos","nlb","skip_whitespace","read_while","pred","parse_error","err","read_num","prefix","has_e","after_e","has_x","has_dot","valid","read_escaped_char","String","fromCharCode","hex_bytes","digit","read_string","with_eof_error","quote","octal_len","read_line_comment","substring","read_multiline_comment","warn","read_name","backslash","read_regexp","regexp","prev_backslash","in_class","mods","read_operator","grow","op","bigger","handle_slash","next_token","handle_dot","read_word","word","eof_error","cont","ex","force_regexp","context","nc","UNARY_PREFIX","ASSIGNMENT","=","PRECEDENCE","STATEMENTS_WITH_LABELS","ATOMIC_START_TOKEN","NodeWithToken","parse","exigent_mode","embed_tokens","prev","peeked","in_function","in_loop","labels","is","croak","msg","ctx","token_error","unexpected","expect_token","expect","punc","can_insert_semicolon","semicolon","as","parenthesised","expression","add_tokens","maybe_embed_tokens","parser","ast","statement","simple_statement","labeled_statement","prog1","block_","break_cont","body","for_","function_","if_","switch_block_","try_","var_","const_","label","stat","pop","member","init","for_in","regular_for","step","lhs","obj","in_statement","loop","cond","belse","curry","cur","bcatch","bfinally","vardefs","no_in","new_","newexp","expr_atom","args","expr_list","subscripts","allow_calls","array_","object_","atom","closing","allow_trailing_comma","allow_empty","as_property_name","as_name","expr","maybe_unary","make_unary","tag","is_assignable","expr_op","left","min_prec","prec","right","expr_ops","maybe_conditional","yes","maybe_assign","commas","prop","parsejs","set_logger","logger","jsp","ast_walker","_vardefs","defs","MAP","def","walk","_block","statements","out","walkers","string","toplevel","block","splice","var","const","try","throw","new","ctor","switch","branch","break","continue","conditional","assign","lvalue","rvalue","dot","function","debugger","defun","if","for","for-in","vvar","while","do","return","binary","unary-prefix","unary-postfix","subscript","object","props","rx","elements","seq","with","user","gen","dive","with_walkers","save","parent","Scope","names","mangled","rev_mangled","cname","refs","uses_with","uses_eval","children","level","base54","DIGITS","base","floor","has","has_mangled","mname","toJSON","next_mangled","prior","is_identifier","set_mangle","get_mangled","newMangle","references","define","ast_add_scope","current_scope","having_eval","with_new_scope","scope","reference","_lambda","is_defun","_breacont","fixrefs","origin","ast_mangle","options","except","get_define","defines","no_functions","extra","with_scope","_scope","at_top","self","best_of","ast1","ast2","gen_code","last_stat","aborts","boolean_expr","empty","is_string","node","when_constant","$NOT_CONSTANT","no","lval","ex2","warn_unreachable","prepare_ifs","redo_if","fi","e_body","redo_if_lambda","redo_if_block","for_side_effects","handler","$stop","$restart","stop","restart","found","unary","ast_lift_variables","do_body","env","skip","walker","_toplevel","ast_squeeze","defaults","make_seqs","dead_code","no_warnings","keep_comps","negate","not_c","make_conditional","make_real_conditional","rmblock","tighten","block_type","has_quit","st","make_if","make_real_if","abort_else","tmp","_do_while","okOps","DOT_CALL_NO_PARENS","make_string","ascii_only","dq","sq","to_ascii","SPLICE_NEEDS_BRACKETS","indent_start","indent_level","quote_keys","space_colon","beautify","inline_script","indentation","newline","space","encode_string","make_name","indent","repeat_string","with_indent","incr","add_spaces","add_commas","parenthesize","make","el","needs_parens","make_num","make_block_statements","make_block","make_1vardef","tr","ca","has_call","make_switch_block","co","th","func","make_function","make_then","condition","operator","obj_needs_parens","stmt","keyword","no_parens","must_has_semicolon","noindent","has_body","split_lines","max_line_length","splits","last_split","prev_token","current_length","tok","split_here","custom","top","doit","AtTop","Splice","process","pro","ast_squeeze_more","squeezemore","uglify","flags","mangle","mangle_toplevel","squeeze","verbose","show_copyright","out_same_file","unsafe","beautify_options","output","filename","shift","squeeze_it","comments","result","initial_comments","time_it","sys","inspect","t1","jQuery","$","_currentBuildVersion","data","on","group","closest","checkbox","$this","deps","attr","depArr","removeAttr","html","removeClass","not","append","change","checked","toggle","click","remove","mLoad","selections","Modernizr","download","iframe","document","createElement","src","setAttribute","id","appendChild","fixUglifyBugs","modBuild","addExtras","modularBuild","prefixClass","trim","matches","match","matchesAT","handleInjection","window","location","addClass","buildFile","appended","uglifiedModularBuild","_gaq","undefined","GoSquared","DefaultTracker","TrackView","URL","webkitURL","blobbuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","querySelector","typer","fileName","style","display","bloburls","blob","bb","Blob","href","createObjectURL","getBlob","onclick","revokeObjectURL","contentWindow","postMessage","JSON","stringify","formdata","onmessage","event","domain","uri","fadeIn","satisfyCustomDetects","finishCount","finishResp","customFinish","resp","comChecked","ajax","dataType","cache","url","success","script","both","externals","bothDone","extName","extStr","printshiv","load","loader","loadFromHash","cssclassprefix","proto","fn","details","isOpera","opera","isDetailsSupported","doc","fake","root","diff","de","documentElement","insertBefore","firstElementChild","firstChild","innerHTML","offsetHeight","open","removeChild","parentNode","toggleOpen","$details","$detailsSummary","$detailsNotSummary","isOpen","close","triggerHandler","hide","show","noSelect","none","css","MozUserSelect","msUserSelect","webkitUserSelect","userSelect","$summary","role","aria-expanded","support","$detailsNotSummaryContents","contents","prependTo","focus","keyup","keyCode","preventDefault"],"mappings":"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","sourcesContent":["/**\n * Modulizr\n * Modernizr Modular Build Tool\n * Very simple tool for including or excluding tests\n *\n * @Author  Alex Sexton - AlexSexton@gmail.com\n * @License Dual MIT and WTFPL\n */\n\n/**\n * This section does the conditional build\n */\n(function(global){\n  var Modulizr = {\n    _dependencies: {\n      'canvastext'      : ['canvas'],\n      'csstransforms3d' : ['prefixes', 'domprefixes', 'testprop', 'testbundle', 'teststyles', 'testallprops'],\n      'flexbox'         : ['domprefixes', 'testprop', 'testallprops'],\n      'cssgradients'    : ['prefixes'],\n      'opacity'         : ['prefixes'],\n      'indexeddb'       : ['domprefixes', 'testprop', 'testallprops'],\n      'backgroundsize'  : ['domprefixes', 'testprop', 'testallprops'],\n      'borderimage'     : ['domprefixes', 'testprop', 'testallprops'],\n      'borderradius'    : ['domprefixes', 'testprop', 'testallprops'],\n      'boxshadow'       : ['domprefixes', 'testprop', 'testallprops'],\n      'cssanimations'   : ['domprefixes', 'testprop', 'testallprops'],\n      'csscolumns'      : ['domprefixes', 'testprop', 'testallprops'],\n      'cssreflections'  : ['domprefixes', 'testprop', 'testallprops'],\n      'csstransitions'  : ['domprefixes', 'testprop', 'testallprops'],\n      'testallprops'    : ['domprefixes', 'testprop'],\n      'flexbox-legacy'  : ['domprefixes', 'testprop', 'testallprops'],\n      'prefixed'        : ['domprefixes', 'testprop', 'testallprops'],\n      'csstransforms'   : ['domprefixes', 'testprop', 'testallprops'],\n      'mq'              : ['teststyles'],\n      'hashchange'      : ['hasevent'],\n      'draganddrop'     : ['hasevent'],\n      'generatedcontent': ['smile', 'testbundle', 'teststyles'],\n      'svg'             : ['ns'],\n      'inlinesvg'       : ['ns'],\n      'smil'            : ['ns'],\n      'svgclippaths'    : ['ns'],\n      'input'           : ['webforms', 'inputelem'],\n      'inputtypes'      : ['webforms', 'inputelem', 'smile'],\n      'touch'           : ['prefixes', 'testbundle', 'teststyles'],\n      'fontface'        : ['testbundle', 'teststyles'],\n      'testbundle'      : ['teststyles'],\n      'respond'         : ['mq', 'teststyles'],\n      'websockets'      : ['domprefixes'],\n\n      // community - Feb 6 2012\n      'a_download' : [],\n      'audio_audiodata_api' : [],\n      'audio_webaudio_api' : [],\n      'battery_api' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'battery_level' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'canvas_todataurl_type' : ['canvas'],\n      'contenteditable' : [],\n      'contextmenu' : [],\n      'cookies' : [],\n      'cors' : [],\n      'css_backgroundcliptext' : ['prefixes'],\n      'css_backgroundrepeat' : ['teststyles'],\n      'css_backgroundsizecover' : ['teststyles'],\n      'css_boxsizing' : ['testallprops'],\n      'css_cubicbezierrange' : ['prefixes'],\n      'css_displayrunin' : ['teststyles'],\n      'css_displaytable' : [],\n      'css_filters': ['prefixes'],\n      'css_hyphens' : ['prefixes', 'testallprops'],\n      'css_mask' : ['testallprops'],\n      'css_mediaqueries' : ['teststyles', 'mq'],\n      'css_overflow_scrolling' : ['testallprops'],\n      'css_pointerevents' : [],\n      'css_remunit' : [],\n      'css_resize' : ['testallprops'],\n      'css_scrollbars' : ['prefixes', 'teststyles'],\n      'css_shapes' : ['testallprops'],\n      'css_userselect' : ['testallprops'],\n      'custom_protocol_handler' : [],\n      'dataview_api' : [],\n      'dom_classlist' : [],\n      'dom_createElement_attrs' : [],\n      'dom_dataset' : [],\n      'dom_microdata' : [],\n      'elem_datalist' : [],\n      'elem_details' : [],\n      'elem_output' : [],\n      'elem_progress_meter' : [],\n      'elem_ruby' : [],\n      'elem_time' : [],\n      'elem_track' : [],\n      'emoji' : ['canvas', 'canvastext'],\n      'es5_strictmode' : [],\n      'event_deviceorientation_motion' : [],\n      'file_api' : [],\n      'file_filesystem' : ['domprefixes'],\n      'forms_placeholder' : ['webforms', 'input', 'inputelem', 'smile', 'inputtypes'],\n      'forms_speechinput' : [],\n      'forms_validation' : [],\n      'fullscreen_api' : ['domprefixes'],\n      'gamepad' : [],\n      'getusermedia' : [],\n      'ie8compat' : [],\n      'img_apng' : ['canvas'],\n      'img_webp' : [],\n      'json' : [],\n      'lists_reversed' : [],\n      'localstorage' : [],\n      'mathml' : [],\n      'network_connection' : [],\n      'network_eventsource' : [],\n      'notification' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'performance' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'quota_management_api' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'requestanimationframe' : ['domprefixes', 'testprop', 'testallprops', 'prefixed'],\n      'sessionstorage' : [],\n      'script_async' : [],\n      'script_defer' : [],\n      'unicode' : ['teststyles'],\n      'url_data_uri' : [],\n      'userdata' : [],\n      'web_intents' : [],\n      'webgl_extensions' : ['webgl'],\n      'websockets_binary' : [],\n      'window_framed' : [],\n      'workers_blobworkers' : [],\n      'workers_dataworkers' : [],\n      'workers_sharedworkers' : [],\n\n      /* added  july 16 2012 */\n      'blob-constructor' : [],\n      'css-backgroundcliptext' : [],\n      'css-backgroundposition-fourvalues' : [],\n      'css-backgroundposition-xy' : ['teststyles'],\n      'css-calc' : ['prefixes'],\n      'css-lastchild' : ['teststyles'],\n      'css-regions' : ['prefixed'],\n      'css-subpixelfont' : ['teststyles'],\n      'network-xhr2' : [],\n      'style-scoped' : [],\n      'svg-filters' : [],\n      'forms-fileinput' : [],\n      'vibrate' : [],\n      'vibration' : [],\n\n      /* added sept 3rd */\n      'contentsecuritypolicy' : [],\n      'css-objectfit' : ['prefixed'],\n      'css-positionsticky' : ['prefixes'],\n      'css-supports' : [],\n      'css-vhunit' : ['teststyles'],\n      'css-vmaxunit' : ['teststyles'],\n      'css-vminunit' : ['teststyles'],\n      'css-vwunit' : ['teststyles'],\n      'forms-formattribute' : [],\n      'iframe-sandbox' : [],\n      'iframe-seamless' : [],\n      'iframe-srcdoc' : [],\n      'pointerlock-api' : ['prefixed']\n\n    },\n    /**\n     * Function ize\n     *\n     * @argument source  {string} The marked up original source\n     * @argument tests   {array}  An array of strings that match test string identifiers in the source\n     *\n     * @returns {string} The new source with only the requested modules\n     */\n    ize: function(source, tests, autoCB){\n      // Variables for string manipulation and saving\n      var js_notests,\n          js_noret,\n          js_nostr,\n          parsed,\n          i, j, k, l, z,\n          strings = [],\n          retStack = [],\n          testStack = [],\n          sid = '_' + ( + new Date()),\n          multilinespaceExp = new RegExp(/\\s{4}\\n/g);\n\n      this.wantedHash = (function(){\n        var hash = {}, k;\n        for(k = 0; k < tests.length; k++) {\n          hash[tests[k].replace('-', '_')] = true;\n        }\n        return hash;\n      })();\n\n      // Add in the dependencies of the things we want\n      for (k in this._dependencies) {\n        if (this._dependencies.hasOwnProperty(k)) {\n          // If we want this dependency\n          if (this.wantedHash[k]) {\n            // go through each dependency of this\n            for (z = 0; z < this._dependencies[k].length; z++) {\n              // Add to tests array\n              tests.push(this._dependencies[k][z]);\n              // Let the calling app know what we automatically added back in.\n              autoCB && autoCB( this._dependencies[k][z] );\n              // Add to the hashed version\n              this.wantedHash[this._dependencies[k][z]] = true;\n            }\n          }\n        }\n      }\n\n      // Handle the out of the ordinary stuff first\n      source = this._handleSpecialCases(source, tests);\n\n      // Remove comments so we don't have false parsing positives\n      source = this._removeComments(source);\n\n      // Mark the tests\n      js_notests = source.replace(/tests\\['(.*)'\\]/g, function($0, $1) {\n        testStack[testStack.length] = {\"code\":$0, \"name\": $1};\n        return 'TEST__'+$1+'__';\n      });\n\n      js_noret = js_notests.replace(/ret\\['(.*)'\\]/g, function($0, $1) {\n        retStack[retStack.length] = {\"code\":$0, \"name\":$1};\n        return 'TRET__'+$1+'__';\n      });\n\n      // remove string literals\n      js_nostr = js_noret.replace(/(\"|')((?:\\\\\\1|.)+?)\\1/g, function($0) {\n      \tstrings[strings.length] = $0;\n      \treturn 'STR__'+(strings.length-1)+'__';\n      });\n\n      // actually take out the code, etc\n      parsed = this._pullOutTests(js_nostr, tests);\n\n      for (j = 0; j < strings.length; j++) {\n        // put the strings back where they belong!\n        parsed = parsed.replace(RegExp(\"STR__\"+j+\"__\", 'g'), function() {\n          return strings[j];\n        });\n      }\n\n      for (l = 0; l < retStack.length; l++) {\n        // put the strings back where they belong!\n        parsed = parsed.replace(RegExp(\"TRET__\"+retStack[l].name+\"__\", 'g'), function($0) {\n          return retStack[l].code;\n        });\n      }\n\n      // put the test array declarations back where they go\n      for (i = 0; i < testStack.length; i++) {\n        parsed = parsed.replace(RegExp(\"TEST__\"+testStack[i].name+\"__\", 'g'), function($0) {\n          return testStack[i].code;\n        });\n      }\n\n      // Strip out the 4space-newline stuff that's left over, just for fun.\n      while (multilinespaceExp.test(parsed)) {\n        parsed = parsed.replace(multilinespaceExp, \"\");\n      }\n\n      // return the altered version\n      return parsed;\n\n    },\n\n    _handleSpecialCases: function(source, wanted) {\n      var normalRemoval = function( source, key ) {\n        source = source.replace(new RegExp(\"\\\\/\\\\*>>\"+key+\"\\\\*\\\\/[\\\\s|\\\\S]*?\\\\/\\\\*>>\"+key+\"\\\\*\\\\/\", \"ig\"), \"\");\n        return source;\n      },\n\n      // Functions to run if they are NOT wanted\n      specialCases = {\n        // This function removes the html5shiv\n        shiv : function(source) {\n          return normalRemoval( source, 'shiv' );\n        },\n        mq : function(source) {\n          return normalRemoval( source, 'mq' );\n        },\n        cssclasses : function(source) {\n          return normalRemoval( source, 'cssclasses' );\n        },\n        addtest : function(source) {\n          return normalRemoval( source, 'addtest' );\n        },\n        prefixed : function(source) {\n          return normalRemoval( source, 'prefixed' );\n        },\n        teststyles : function(source) {\n          return normalRemoval( source, 'teststyles' );\n        },\n        testprop : function(source) {\n          return normalRemoval( source, 'testprop' );\n        },\n        testallprops : function(source) {\n          return normalRemoval( source, 'testallprops' );\n        },\n        hasevent : function(source) {\n          return normalRemoval( source, 'hasevent' );\n        },\n        prefixes : function(source) {\n          return normalRemoval( source, 'prefixes' );\n        },\n        domprefixes : function(source) {\n          return normalRemoval( source, 'domprefixes' );\n        },\n        input : function(source) {\n          return normalRemoval( source, 'input' );\n        },\n        inputtypes : function(source) {\n          return normalRemoval( source, 'inputtypes' );\n        },\n        ns : function(source) {\n          return normalRemoval( source, 'ns' );\n        },\n        smile : function(source) {\n          return normalRemoval( source, 'smile' );\n        },\n        inputelem : function(source) {\n          return normalRemoval( source, 'inputelem' );\n        },\n        webforms : function(source) {\n          return normalRemoval( source, 'webforms' );\n        },\n        touch : function(source) {\n          return normalRemoval( source, 'touch' );\n        },\n        csstransforms3d : function(source) {\n          return normalRemoval( source, 'csstransforms3d' );\n        },\n        generatedcontent : function(source) {\n          return normalRemoval( source, 'generatedcontent' );\n        },\n        fontface : function(source) {\n          return normalRemoval( source, 'fontface' );\n        },\n        testbundle : function(source) {\n          return normalRemoval( source, 'testbundle' );\n        }\n      },\n      // Speedier lookups\n      wantedHash = this.wantedHash;\n\n      for (var name in specialCases) {\n        if (specialCases.hasOwnProperty(name)) {\n          // If we DONT want any of the special cases, run them\n          if (!wantedHash[name]) {\n            source = specialCases[name](source);\n          }\n        }\n      }\n      return source;\n    },\n\n    _pullOutTests: function(source, wanted) {\n      var sub, i, j, start, end, name,\n      sub2, bracketStack, tests = {},\n      tmpStart, tmpEnd,\n      spaceOffset = 0;\n\n      // Step through the source\n      for (i = 0; i < source.length; i++) {\n        sub = source.substr(i, 6);\n        // If we find a test identifier\n        if (sub === \"TEST__\" || sub === \"TRET__\") {\n          // Save the beginning here\n          start = i;\n\n          // counts along the name\n          j = 0;\n\n          // Grab it's name\n          while (source.substr(i+j+6,2) !== '__') {\n            j++;\n          }\n\n          // Save the name\n          name = source.substr(i+6, j).toLowerCase();\n\n          // update counter\n          i = i + j;\n\n          // Look for a function definition next\n          while (source.substr(i, 8) !== 'function') {\n            i++;\n          }\n\n          // Skip past the function def\n          i += 8;\n\n          // Look for the opening '{' character\n          while (source.charAt(i) !== '{') {\n            i++;\n          }\n\n          // Set the initial count\n          bracketStack = 1;\n          i++;\n\n          // Find an even amount of {} pairs\n          while(bracketStack) {\n            sub2 = source.charAt(i);\n            if (sub2 === '{') {\n              bracketStack++;\n            }\n            else if (sub2 === '}') {\n              bracketStack--;\n            }\n            i++;\n          }\n\n          // Watch out for IFFEs\n          if (source.substr(i,2) === \")(\") {\n            i += 2;\n            parenStack = 1;\n            while (parenStack) {\n              if (source.charAt(i) === ')') {\n                parenStack--;\n              }\n              else if (source.charAt(i) === '(') {\n                parenStack++;\n              }\n              i++;\n            }\n          }\n\n          // Add the semicolon\n          end = i+1;\n\n          // Add this to the tests hash\n          tests[name] = {\n            \"start\": start,\n            \"end\": end\n          };\n        }\n      }\n\n      // Turn our wanted array into a hash, for speeedz\n      var wantedHash = this.wantedHash;\n\n      // go through the tests that we know about, and remove the ones we don't want\n      for (var test in tests) {\n        if (tests.hasOwnProperty(test)) {\n          // If it's not one that we want\n          if (!wantedHash[test]) {\n            tmpStart = tests[test].start;\n            tmpEnd   = tests[test].end;\n            // Take it out\n            source = source.substr(0, tmpStart - spaceOffset) + source.substr(tmpEnd - spaceOffset);\n            spaceOffset += tmpEnd - tmpStart;\n          }\n        }\n      }\n      return source;\n    },\n\n    /*\n    * Stolen from james padolsey at\n    * http://james.padolsey.com/javascript/removing-comments-in-javascript/\n    * - This function is loosely based on the one found here:\n    * - http://www.weanswer.it/blog/optimize-css-javascript-remove-comments-php/\n    */\n    _removeComments:  function(str) {\n      str = ('__' + str + '__').split('');\n      var mode = {\n          singleQuote: false,\n          doubleQuote: false,\n          regex: false,\n          blockComment: false,\n          lineComment: false,\n          condComp: false\n      };\n      for (var i = 0, l = str.length; i < l; i++) {\n\n        if (mode.regex) {\n          if (str[i] === '/' && str[i-1] !== '\\\\') {\n            mode.regex = false;\n          }\n          continue;\n        }\n\n        if (mode.singleQuote) {\n          if (str[i] === \"'\" && str[i-1] !== '\\\\') {\n             mode.singleQuote = false;\n          }\n          continue;\n        }\n\n        if (mode.doubleQuote) {\n          if (str[i] === '\"' && str[i-1] !== '\\\\') {\n            mode.doubleQuote = false;\n          }\n          continue;\n        }\n\n        if (mode.blockComment) {\n          if (str[i] === '*' && str[i+1] === '/') {\n            str[i+1] = '';\n            mode.blockComment = false;\n          }\n          str[i] = '';\n          continue;\n        }\n\n        if (mode.lineComment) {\n          if (str[i+1] === '\\n' || str[i+1] === '\\r') {\n            mode.lineComment = false;\n          }\n          str[i] = '';\n          continue;\n        }\n\n        if (mode.condComp) {\n          if (str[i-2] === '@' && str[i-1] === '*' && str[i] === '/') {\n            mode.condComp = false;\n          }\n          continue;\n        }\n\n        mode.doubleQuote = str[i] === '\"';\n        mode.singleQuote = str[i] === \"'\";\n\n        if (str[i] === '/') {\n\n          if (str[i+1] === '*' && str[i+2] === '@') {\n            mode.condComp = true;\n            continue;\n          }\n          if (str[i+1] === '*') {\n            str[i] = '';\n            mode.blockComment = true;\n            continue;\n          }\n          if (str[i+1] === '/') {\n            str[i] = '';\n            mode.lineComment = true;\n            continue;\n          }\n          mode.regex = true;\n\n        }\n\n      }\n      return str.join('').slice(2, -2);\n    },\n\n\n    // IndexOf Function Stolen from UnderscoreJS, but pretty common, soo....\n    _indexOf: function(array, item) {\n      var ArrayProto = Array.prototype;\n      if (ArrayProto.indexOf && array.indexOf === ArrayProto.indexOf) return array.indexOf(item);\n      for (var i = 0, l = array.length; i < l; i++) if (array[i] === item) return i;\n      return -1;\n    }\n  };\n\n  // Leak Me\n  global.Modulizr = Modulizr;\n})(this);\n","// Underscore.js 1.1.4\n// (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.\n// Underscore is freely distributable under the MIT license.\n// Portions of Underscore are inspired or borrowed from Prototype,\n// Oliver Steele's Functional, and John Resig's Micro-Templating.\n// For all details and documentation:\n// http://documentcloud.github.com/underscore\n(function(){var q=this,C=q._,m={},j=Array.prototype,n=Object.prototype,i=j.slice,D=j.unshift,E=n.toString,o=n.hasOwnProperty,s=j.forEach,t=j.map,u=j.reduce,v=j.reduceRight,w=j.filter,x=j.every,y=j.some,p=j.indexOf,z=j.lastIndexOf;n=Array.isArray;var F=Object.keys,c=function(a){return new l(a)};if(typeof module!==\"undefined\"&&module.exports){module.exports=c;c._=c}else q._=c;c.VERSION=\"1.1.4\";var k=c.each=c.forEach=function(a,b,d){if(a!=null)if(s&&a.forEach===s)a.forEach(b,d);else if(c.isNumber(a.length))for(var e=\n0,f=a.length;e<f;e++){if(b.call(d,a[e],e,a)===m)break}else for(e in a)if(o.call(a,e))if(b.call(d,a[e],e,a)===m)break};c.map=function(a,b,d){var e=[];if(a==null)return e;if(t&&a.map===t)return a.map(b,d);k(a,function(f,g,h){e[e.length]=b.call(d,f,g,h)});return e};c.reduce=c.foldl=c.inject=function(a,b,d,e){var f=d!==void 0;if(a==null)a=[];if(u&&a.reduce===u){if(e)b=c.bind(b,e);return f?a.reduce(b,d):a.reduce(b)}k(a,function(g,h,G){if(!f&&h===0){d=g;f=true}else d=b.call(e,d,g,h,G)});if(!f)throw new TypeError(\"Reduce of empty array with no initial value\");\nreturn d};c.reduceRight=c.foldr=function(a,b,d,e){if(a==null)a=[];if(v&&a.reduceRight===v){if(e)b=c.bind(b,e);return d!==void 0?a.reduceRight(b,d):a.reduceRight(b)}a=(c.isArray(a)?a.slice():c.toArray(a)).reverse();return c.reduce(a,b,d,e)};c.find=c.detect=function(a,b,d){var e;A(a,function(f,g,h){if(b.call(d,f,g,h)){e=f;return true}});return e};c.filter=c.select=function(a,b,d){var e=[];if(a==null)return e;if(w&&a.filter===w)return a.filter(b,d);k(a,function(f,g,h){if(b.call(d,f,g,h))e[e.length]=\nf});return e};c.reject=function(a,b,d){var e=[];if(a==null)return e;k(a,function(f,g,h){b.call(d,f,g,h)||(e[e.length]=f)});return e};c.every=c.all=function(a,b,d){b=b||c.identity;var e=true;if(a==null)return e;if(x&&a.every===x)return a.every(b,d);k(a,function(f,g,h){if(!(e=e&&b.call(d,f,g,h)))return m});return e};var A=c.some=c.any=function(a,b,d){b=b||c.identity;var e=false;if(a==null)return e;if(y&&a.some===y)return a.some(b,d);k(a,function(f,g,h){if(e=b.call(d,f,g,h))return m});return e};c.include=\nc.contains=function(a,b){var d=false;if(a==null)return d;if(p&&a.indexOf===p)return a.indexOf(b)!=-1;A(a,function(e){if(d=e===b)return true});return d};c.invoke=function(a,b){var d=i.call(arguments,2);return c.map(a,function(e){return(b?e[b]:e).apply(e,d)})};c.pluck=function(a,b){return c.map(a,function(d){return d[b]})};c.max=function(a,b,d){if(!b&&c.isArray(a))return Math.max.apply(Math,a);var e={computed:-Infinity};k(a,function(f,g,h){g=b?b.call(d,f,g,h):f;g>=e.computed&&(e={value:f,computed:g})});\nreturn e.value};c.min=function(a,b,d){if(!b&&c.isArray(a))return Math.min.apply(Math,a);var e={computed:Infinity};k(a,function(f,g,h){g=b?b.call(d,f,g,h):f;g<e.computed&&(e={value:f,computed:g})});return e.value};c.sortBy=function(a,b,d){return c.pluck(c.map(a,function(e,f,g){return{value:e,criteria:b.call(d,e,f,g)}}).sort(function(e,f){var g=e.criteria,h=f.criteria;return g<h?-1:g>h?1:0}),\"value\")};c.sortedIndex=function(a,b,d){d=d||c.identity;for(var e=0,f=a.length;e<f;){var g=e+f>>1;d(a[g])<d(b)?\ne=g+1:f=g}return e};c.toArray=function(a){if(!a)return[];if(a.toArray)return a.toArray();if(c.isArray(a))return a;if(c.isArguments(a))return i.call(a);return c.values(a)};c.size=function(a){return c.toArray(a).length};c.first=c.head=function(a,b,d){return b&&!d?i.call(a,0,b):a[0]};c.rest=c.tail=function(a,b,d){return i.call(a,c.isUndefined(b)||d?1:b)};c.last=function(a){return a[a.length-1]};c.compact=function(a){return c.filter(a,function(b){return!!b})};c.flatten=function(a){return c.reduce(a,function(b,\nd){if(c.isArray(d))return b.concat(c.flatten(d));b[b.length]=d;return b},[])};c.without=function(a){var b=i.call(arguments,1);return c.filter(a,function(d){return!c.include(b,d)})};c.uniq=c.unique=function(a,b){return c.reduce(a,function(d,e,f){if(0==f||(b===true?c.last(d)!=e:!c.include(d,e)))d[d.length]=e;return d},[])};c.intersect=function(a){var b=i.call(arguments,1);return c.filter(c.uniq(a),function(d){return c.every(b,function(e){return c.indexOf(e,d)>=0})})};c.zip=function(){for(var a=i.call(arguments),\nb=c.max(c.pluck(a,\"length\")),d=Array(b),e=0;e<b;e++)d[e]=c.pluck(a,\"\"+e);return d};c.indexOf=function(a,b,d){if(a==null)return-1;if(d){d=c.sortedIndex(a,b);return a[d]===b?d:-1}if(p&&a.indexOf===p)return a.indexOf(b);d=0;for(var e=a.length;d<e;d++)if(a[d]===b)return d;return-1};c.lastIndexOf=function(a,b){if(a==null)return-1;if(z&&a.lastIndexOf===z)return a.lastIndexOf(b);for(var d=a.length;d--;)if(a[d]===b)return d;return-1};c.range=function(a,b,d){var e=i.call(arguments),f=e.length<=1;a=f?0:e[0];\nb=f?e[0]:e[1];d=e[2]||1;e=Math.max(Math.ceil((b-a)/d),0);f=0;for(var g=Array(e);f<e;){g[f++]=a;a+=d}return g};c.bind=function(a,b){var d=i.call(arguments,2);return function(){return a.apply(b||{},d.concat(i.call(arguments)))}};c.bindAll=function(a){var b=i.call(arguments,1);if(b.length==0)b=c.functions(a);k(b,function(d){a[d]=c.bind(a[d],a)});return a};c.memoize=function(a,b){var d={};b=b||c.identity;return function(){var e=b.apply(this,arguments);return e in d?d[e]:d[e]=a.apply(this,arguments)}};\nc.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};c.defer=function(a){return c.delay.apply(c,[a,1].concat(i.call(arguments,1)))};var B=function(a,b,d){var e;return function(){var f=this,g=arguments,h=function(){e=null;a.apply(f,g)};d&&clearTimeout(e);if(d||!e)e=setTimeout(h,b)}};c.throttle=function(a,b){return B(a,b,false)};c.debounce=function(a,b){return B(a,b,true)};c.wrap=function(a,b){return function(){var d=[a].concat(i.call(arguments));return b.apply(this,\nd)}};c.compose=function(){var a=i.call(arguments);return function(){for(var b=i.call(arguments),d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};c.keys=F||function(a){if(c.isArray(a))return c.range(0,a.length);var b=[],d;for(d in a)if(o.call(a,d))b[b.length]=d;return b};c.values=function(a){return c.map(a,c.identity)};c.functions=c.methods=function(a){return c.filter(c.keys(a),function(b){return c.isFunction(a[b])}).sort()};c.extend=function(a){k(i.call(arguments,1),function(b){for(var d in b)a[d]=\nb[d]});return a};c.clone=function(a){return c.isArray(a)?a.slice():c.extend({},a)};c.tap=function(a,b){b(a);return a};c.isEqual=function(a,b){if(a===b)return true;var d=typeof a;if(d!=typeof b)return false;if(a==b)return true;if(!a&&b||a&&!b)return false;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual)return a.isEqual(b);if(c.isDate(a)&&c.isDate(b))return a.getTime()===b.getTime();if(c.isNaN(a)&&c.isNaN(b))return false;if(c.isRegExp(a)&&c.isRegExp(b))return a.source===b.source&&a.global===\nb.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(d!==\"object\")return false;if(a.length&&a.length!==b.length)return false;d=c.keys(a);var e=c.keys(b);if(d.length!=e.length)return false;for(var f in a)if(!(f in b)||!c.isEqual(a[f],b[f]))return false;return true};c.isEmpty=function(a){if(c.isArray(a)||c.isString(a))return a.length===0;for(var b in a)if(o.call(a,b))return false;return true};c.isElement=function(a){return!!(a&&a.nodeType==1)};c.isArray=n||function(a){return E.call(a)===\n\"[object Array]\"};c.isArguments=function(a){return!!(a&&o.call(a,\"callee\"))};c.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)};c.isString=function(a){return!!(a===\"\"||a&&a.charCodeAt&&a.substr)};c.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)};c.isNaN=function(a){return a!==a};c.isBoolean=function(a){return a===true||a===false};c.isDate=function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)};c.isRegExp=function(a){return!!(a&&a.test&&a.exec&&(a.ignoreCase||\na.ignoreCase===false))};c.isNull=function(a){return a===null};c.isUndefined=function(a){return a===void 0};c.noConflict=function(){q._=C;return this};c.identity=function(a){return a};c.times=function(a,b,d){for(var e=0;e<a;e++)b.call(d,e)};c.mixin=function(a){k(c.functions(a),function(b){H(b,c[b]=a[b])})};var I=0;c.uniqueId=function(a){var b=I++;return a?a+b:b};c.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g};c.template=function(a,b){var d=c.templateSettings;d=\"var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('\"+\na.replace(/\\\\/g,\"\\\\\\\\\").replace(/'/g,\"\\\\'\").replace(d.interpolate,function(e,f){return\"',\"+f.replace(/\\\\'/g,\"'\")+\",'\"}).replace(d.evaluate||null,function(e,f){return\"');\"+f.replace(/\\\\'/g,\"'\").replace(/[\\r\\n\\t]/g,\" \")+\"__p.push('\"}).replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\").replace(/\\t/g,\"\\\\t\")+\"');}return __p.join('');\";d=new Function(\"obj\",d);return b?d(b):d};var l=function(a){this._wrapped=a};c.prototype=l.prototype;var r=function(a,b){return b?c(a).chain():a},H=function(a,b){l.prototype[a]=function(){var d=\ni.call(arguments);D.call(d,this._wrapped);return r(b.apply(c,d),this._chain)}};c.mixin(c);k([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(a){var b=j[a];l.prototype[a]=function(){b.apply(this._wrapped,arguments);return r(this._wrapped,this._chain)}});k([\"concat\",\"join\",\"slice\"],function(a){var b=j[a];l.prototype[a]=function(){return r(b.apply(this._wrapped,arguments),this._chain)}});l.prototype.chain=function(){this._chain=true;return this};l.prototype.value=function(){return this._wrapped}})();\n","/***********************************************************************\n  Uglifui modifications for use in a browser. All badassery courtesy of\n  original uglifyjs source.\n  ----------------------------------------------------------------------\n  A JavaScript tokenizer / parser / beautifier / compressor.\n\n  This version is suitable for Node.js.  With minimal changes (the\n  exports stuff) it should work on any JS platform.\n\n  This file contains the tokenizer/parser.  It is a port to JavaScript\n  of parse-js [1], a JavaScript parser library written in Common Lisp\n  by Marijn Haverbeke.  Thank you Marijn!\n\n  [1] http://marijn.haverbeke.nl/parse-js/\n\n  Exported functions:\n\n    - tokenizer(code) -- returns a function.  Call the returned\n      function to fetch the next token.\n\n    - parse(code) -- returns an AST of the given JavaScript code.\n\n  -------------------------------- (C) ---------------------------------\n\n                           Author: Mihai Bazon\n                         <mihai.bazon@gmail.com>\n                       http://mihai.bazon.net/blog\n\n  Distributed under the BSD license:\n\n    Copyright 2010 (c) Mihai Bazon <mihai.bazon@gmail.com>\n    Based on parse-js (http://marijn.haverbeke.nl/parse-js/).\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions\n    are met:\n\n        * Redistributions of source code must retain the above\n          copyright notice, this list of conditions and the following\n          disclaimer.\n\n        * Redistributions in binary form must reproduce the above\n          copyright notice, this list of conditions and the following\n          disclaimer in the documentation and/or other materials\n          provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY\n    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\n    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR\n    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n    SUCH DAMAGE.\n\n ***********************************************************************/\n//>> Start Uglifui\n(function ( global ) {\n//>> End Uglifui\n\n/* -----[ Tokenizer (constants) ]----- */\n\nvar KEYWORDS = array_to_hash([\n        \"break\",\n        \"case\",\n        \"catch\",\n        \"const\",\n        \"continue\",\n        \"debugger\",\n        \"default\",\n        \"delete\",\n        \"do\",\n        \"else\",\n        \"finally\",\n        \"for\",\n        \"function\",\n        \"if\",\n        \"in\",\n        \"instanceof\",\n        \"new\",\n        \"return\",\n        \"switch\",\n        \"throw\",\n        \"try\",\n        \"typeof\",\n        \"var\",\n        \"void\",\n        \"while\",\n        \"with\"\n]);\n\nvar RESERVED_WORDS = array_to_hash([\n        \"abstract\",\n        \"boolean\",\n        \"byte\",\n        \"char\",\n        \"class\",\n        \"double\",\n        \"enum\",\n        \"export\",\n        \"extends\",\n        \"final\",\n        \"float\",\n        \"goto\",\n        \"implements\",\n        \"import\",\n        \"int\",\n        \"interface\",\n        \"long\",\n        \"native\",\n        \"package\",\n        \"private\",\n        \"protected\",\n        \"public\",\n        \"short\",\n        \"static\",\n        \"super\",\n        \"synchronized\",\n        \"throws\",\n        \"transient\",\n        \"volatile\"\n]);\n\nvar KEYWORDS_BEFORE_EXPRESSION = array_to_hash([\n        \"return\",\n        \"new\",\n        \"delete\",\n        \"throw\",\n        \"else\",\n        \"case\"\n]);\n\nvar KEYWORDS_ATOM = array_to_hash([\n        \"false\",\n        \"null\",\n        \"true\",\n        \"undefined\"\n]);\n\nvar OPERATOR_CHARS = array_to_hash(characters(\"+-*&%=<>!?|~^\"));\n\nvar RE_HEX_NUMBER = /^0x[0-9a-f]+$/i;\nvar RE_OCT_NUMBER = /^0[0-7]+$/;\nvar RE_DEC_NUMBER = /^\\d*\\.?\\d*(?:e[+-]?\\d*(?:\\d\\.?|\\.?\\d)\\d*)?$/i;\n\nvar OPERATORS = array_to_hash([\n        \"in\",\n        \"instanceof\",\n        \"typeof\",\n        \"new\",\n        \"void\",\n        \"delete\",\n        \"++\",\n        \"--\",\n        \"+\",\n        \"-\",\n        \"!\",\n        \"~\",\n        \"&\",\n        \"|\",\n        \"^\",\n        \"*\",\n        \"/\",\n        \"%\",\n        \">>\",\n        \"<<\",\n        \">>>\",\n        \"<\",\n        \">\",\n        \"<=\",\n        \">=\",\n        \"==\",\n        \"===\",\n        \"!=\",\n        \"!==\",\n        \"?\",\n        \"=\",\n        \"+=\",\n        \"-=\",\n        \"/=\",\n        \"*=\",\n        \"%=\",\n        \">>=\",\n        \"<<=\",\n        \">>>=\",\n        \"|=\",\n        \"^=\",\n        \"&=\",\n        \"&&\",\n        \"||\"\n]);\n\nvar WHITESPACE_CHARS = array_to_hash(characters(\" \\u00a0\\n\\r\\t\\f\\u000b\\u200b\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\"));\n\nvar PUNC_BEFORE_EXPRESSION = array_to_hash(characters(\"[{}(,.;:\"));\n\nvar PUNC_CHARS = array_to_hash(characters(\"[]{}(),;:\"));\n\nvar REGEXP_MODIFIERS = array_to_hash(characters(\"gmsiy\"));\n\n/* -----[ Tokenizer ]----- */\n\n// regexps adapted from http://xregexp.com/plugins/#unicode\nvar UNICODE = {\n        letter: new RegExp(\"[\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00AA\\\\u00B5\\\\u00BA\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u0523\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0621-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971\\\\u0972\\\\u097B-\\\\u097F\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C33\\\\u0C35-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D28\\\\u0D2A-\\\\u0D39\\\\u0D3D\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC\\\\u0EDD\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8B\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10D0-\\\\u10FA\\\\u10FC\\\\u1100-\\\\u1159\\\\u115F-\\\\u11A2\\\\u11A8-\\\\u11F9\\\\u1200-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u1676\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u1900-\\\\u191C\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19A9\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u2094\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2183\\\\u2184\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2C6F\\\\u2C71-\\\\u2C7D\\\\u2C80-\\\\u2CE4\\\\u2D00-\\\\u2D25\\\\u2D30-\\\\u2D65\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005\\\\u3006\\\\u3031-\\\\u3035\\\\u303B\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31B7\\\\u31F0-\\\\u31FF\\\\u3400\\\\u4DB5\\\\u4E00\\\\u9FC3\\\\uA000-\\\\uA48C\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA65F\\\\uA662-\\\\uA66E\\\\uA67F-\\\\uA697\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B\\\\uA78C\\\\uA7FB-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAC00\\\\uD7A3\\\\uF900-\\\\uFA2D\\\\uFA30-\\\\uFA6A\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]\"),\n        non_spacing_mark: new RegExp(\"[\\\\u0300-\\\\u036F\\\\u0483-\\\\u0487\\\\u0591-\\\\u05BD\\\\u05BF\\\\u05C1\\\\u05C2\\\\u05C4\\\\u05C5\\\\u05C7\\\\u0610-\\\\u061A\\\\u064B-\\\\u065E\\\\u0670\\\\u06D6-\\\\u06DC\\\\u06DF-\\\\u06E4\\\\u06E7\\\\u06E8\\\\u06EA-\\\\u06ED\\\\u0711\\\\u0730-\\\\u074A\\\\u07A6-\\\\u07B0\\\\u07EB-\\\\u07F3\\\\u0816-\\\\u0819\\\\u081B-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082D\\\\u0900-\\\\u0902\\\\u093C\\\\u0941-\\\\u0948\\\\u094D\\\\u0951-\\\\u0955\\\\u0962\\\\u0963\\\\u0981\\\\u09BC\\\\u09C1-\\\\u09C4\\\\u09CD\\\\u09E2\\\\u09E3\\\\u0A01\\\\u0A02\\\\u0A3C\\\\u0A41\\\\u0A42\\\\u0A47\\\\u0A48\\\\u0A4B-\\\\u0A4D\\\\u0A51\\\\u0A70\\\\u0A71\\\\u0A75\\\\u0A81\\\\u0A82\\\\u0ABC\\\\u0AC1-\\\\u0AC5\\\\u0AC7\\\\u0AC8\\\\u0ACD\\\\u0AE2\\\\u0AE3\\\\u0B01\\\\u0B3C\\\\u0B3F\\\\u0B41-\\\\u0B44\\\\u0B4D\\\\u0B56\\\\u0B62\\\\u0B63\\\\u0B82\\\\u0BC0\\\\u0BCD\\\\u0C3E-\\\\u0C40\\\\u0C46-\\\\u0C48\\\\u0C4A-\\\\u0C4D\\\\u0C55\\\\u0C56\\\\u0C62\\\\u0C63\\\\u0CBC\\\\u0CBF\\\\u0CC6\\\\u0CCC\\\\u0CCD\\\\u0CE2\\\\u0CE3\\\\u0D41-\\\\u0D44\\\\u0D4D\\\\u0D62\\\\u0D63\\\\u0DCA\\\\u0DD2-\\\\u0DD4\\\\u0DD6\\\\u0E31\\\\u0E34-\\\\u0E3A\\\\u0E47-\\\\u0E4E\\\\u0EB1\\\\u0EB4-\\\\u0EB9\\\\u0EBB\\\\u0EBC\\\\u0EC8-\\\\u0ECD\\\\u0F18\\\\u0F19\\\\u0F35\\\\u0F37\\\\u0F39\\\\u0F71-\\\\u0F7E\\\\u0F80-\\\\u0F84\\\\u0F86\\\\u0F87\\\\u0F90-\\\\u0F97\\\\u0F99-\\\\u0FBC\\\\u0FC6\\\\u102D-\\\\u1030\\\\u1032-\\\\u1037\\\\u1039\\\\u103A\\\\u103D\\\\u103E\\\\u1058\\\\u1059\\\\u105E-\\\\u1060\\\\u1071-\\\\u1074\\\\u1082\\\\u1085\\\\u1086\\\\u108D\\\\u109D\\\\u135F\\\\u1712-\\\\u1714\\\\u1732-\\\\u1734\\\\u1752\\\\u1753\\\\u1772\\\\u1773\\\\u17B7-\\\\u17BD\\\\u17C6\\\\u17C9-\\\\u17D3\\\\u17DD\\\\u180B-\\\\u180D\\\\u18A9\\\\u1920-\\\\u1922\\\\u1927\\\\u1928\\\\u1932\\\\u1939-\\\\u193B\\\\u1A17\\\\u1A18\\\\u1A56\\\\u1A58-\\\\u1A5E\\\\u1A60\\\\u1A62\\\\u1A65-\\\\u1A6C\\\\u1A73-\\\\u1A7C\\\\u1A7F\\\\u1B00-\\\\u1B03\\\\u1B34\\\\u1B36-\\\\u1B3A\\\\u1B3C\\\\u1B42\\\\u1B6B-\\\\u1B73\\\\u1B80\\\\u1B81\\\\u1BA2-\\\\u1BA5\\\\u1BA8\\\\u1BA9\\\\u1C2C-\\\\u1C33\\\\u1C36\\\\u1C37\\\\u1CD0-\\\\u1CD2\\\\u1CD4-\\\\u1CE0\\\\u1CE2-\\\\u1CE8\\\\u1CED\\\\u1DC0-\\\\u1DE6\\\\u1DFD-\\\\u1DFF\\\\u20D0-\\\\u20DC\\\\u20E1\\\\u20E5-\\\\u20F0\\\\u2CEF-\\\\u2CF1\\\\u2DE0-\\\\u2DFF\\\\u302A-\\\\u302F\\\\u3099\\\\u309A\\\\uA66F\\\\uA67C\\\\uA67D\\\\uA6F0\\\\uA6F1\\\\uA802\\\\uA806\\\\uA80B\\\\uA825\\\\uA826\\\\uA8C4\\\\uA8E0-\\\\uA8F1\\\\uA926-\\\\uA92D\\\\uA947-\\\\uA951\\\\uA980-\\\\uA982\\\\uA9B3\\\\uA9B6-\\\\uA9B9\\\\uA9BC\\\\uAA29-\\\\uAA2E\\\\uAA31\\\\uAA32\\\\uAA35\\\\uAA36\\\\uAA43\\\\uAA4C\\\\uAAB0\\\\uAAB2-\\\\uAAB4\\\\uAAB7\\\\uAAB8\\\\uAABE\\\\uAABF\\\\uAAC1\\\\uABE5\\\\uABE8\\\\uABED\\\\uFB1E\\\\uFE00-\\\\uFE0F\\\\uFE20-\\\\uFE26]\"),\n        space_combining_mark: new RegExp(\"[\\\\u0903\\\\u093E-\\\\u0940\\\\u0949-\\\\u094C\\\\u094E\\\\u0982\\\\u0983\\\\u09BE-\\\\u09C0\\\\u09C7\\\\u09C8\\\\u09CB\\\\u09CC\\\\u09D7\\\\u0A03\\\\u0A3E-\\\\u0A40\\\\u0A83\\\\u0ABE-\\\\u0AC0\\\\u0AC9\\\\u0ACB\\\\u0ACC\\\\u0B02\\\\u0B03\\\\u0B3E\\\\u0B40\\\\u0B47\\\\u0B48\\\\u0B4B\\\\u0B4C\\\\u0B57\\\\u0BBE\\\\u0BBF\\\\u0BC1\\\\u0BC2\\\\u0BC6-\\\\u0BC8\\\\u0BCA-\\\\u0BCC\\\\u0BD7\\\\u0C01-\\\\u0C03\\\\u0C41-\\\\u0C44\\\\u0C82\\\\u0C83\\\\u0CBE\\\\u0CC0-\\\\u0CC4\\\\u0CC7\\\\u0CC8\\\\u0CCA\\\\u0CCB\\\\u0CD5\\\\u0CD6\\\\u0D02\\\\u0D03\\\\u0D3E-\\\\u0D40\\\\u0D46-\\\\u0D48\\\\u0D4A-\\\\u0D4C\\\\u0D57\\\\u0D82\\\\u0D83\\\\u0DCF-\\\\u0DD1\\\\u0DD8-\\\\u0DDF\\\\u0DF2\\\\u0DF3\\\\u0F3E\\\\u0F3F\\\\u0F7F\\\\u102B\\\\u102C\\\\u1031\\\\u1038\\\\u103B\\\\u103C\\\\u1056\\\\u1057\\\\u1062-\\\\u1064\\\\u1067-\\\\u106D\\\\u1083\\\\u1084\\\\u1087-\\\\u108C\\\\u108F\\\\u109A-\\\\u109C\\\\u17B6\\\\u17BE-\\\\u17C5\\\\u17C7\\\\u17C8\\\\u1923-\\\\u1926\\\\u1929-\\\\u192B\\\\u1930\\\\u1931\\\\u1933-\\\\u1938\\\\u19B0-\\\\u19C0\\\\u19C8\\\\u19C9\\\\u1A19-\\\\u1A1B\\\\u1A55\\\\u1A57\\\\u1A61\\\\u1A63\\\\u1A64\\\\u1A6D-\\\\u1A72\\\\u1B04\\\\u1B35\\\\u1B3B\\\\u1B3D-\\\\u1B41\\\\u1B43\\\\u1B44\\\\u1B82\\\\u1BA1\\\\u1BA6\\\\u1BA7\\\\u1BAA\\\\u1C24-\\\\u1C2B\\\\u1C34\\\\u1C35\\\\u1CE1\\\\u1CF2\\\\uA823\\\\uA824\\\\uA827\\\\uA880\\\\uA881\\\\uA8B4-\\\\uA8C3\\\\uA952\\\\uA953\\\\uA983\\\\uA9B4\\\\uA9B5\\\\uA9BA\\\\uA9BB\\\\uA9BD-\\\\uA9C0\\\\uAA2F\\\\uAA30\\\\uAA33\\\\uAA34\\\\uAA4D\\\\uAA7B\\\\uABE3\\\\uABE4\\\\uABE6\\\\uABE7\\\\uABE9\\\\uABEA\\\\uABEC]\"),\n        connector_punctuation: new RegExp(\"[\\\\u005F\\\\u203F\\\\u2040\\\\u2054\\\\uFE33\\\\uFE34\\\\uFE4D-\\\\uFE4F\\\\uFF3F]\")\n};\n\nfunction is_letter(ch) {\n        return UNICODE.letter.test(ch);\n};\n\nfunction is_digit(ch) {\n        ch = ch.charCodeAt(0);\n        return ch >= 48 && ch <= 57; //XXX: find out if \"UnicodeDigit\" means something else than 0..9\n};\n\nfunction is_alphanumeric_char(ch) {\n        return is_digit(ch) || is_letter(ch);\n};\n\nfunction is_unicode_combining_mark(ch) {\n        return UNICODE.non_spacing_mark.test(ch) || UNICODE.space_combining_mark.test(ch);\n};\n\nfunction is_unicode_connector_punctuation(ch) {\n        return UNICODE.connector_punctuation.test(ch);\n};\n\nfunction is_identifier_start(ch) {\n        return ch == \"$\" || ch == \"_\" || is_letter(ch);\n};\n\nfunction is_identifier_char(ch) {\n        return is_identifier_start(ch)\n                || is_unicode_combining_mark(ch)\n                || is_digit(ch)\n                || is_unicode_connector_punctuation(ch)\n                || ch == \"\\u200c\" // zero-width non-joiner <ZWNJ>\n                || ch == \"\\u200d\" // zero-width joiner <ZWJ> (in my ECMA-262 PDF, this is also 200c)\n        ;\n};\n\nfunction parse_js_number(num) {\n        if (RE_HEX_NUMBER.test(num)) {\n                return parseInt(num.substr(2), 16);\n        } else if (RE_OCT_NUMBER.test(num)) {\n                return parseInt(num.substr(1), 8);\n        } else if (RE_DEC_NUMBER.test(num)) {\n                return parseFloat(num);\n        }\n};\n\nfunction JS_Parse_Error(message, line, col, pos) {\n        this.message = message;\n        this.line = line + 1;\n        this.col = col + 1;\n        this.pos = pos + 1;\n        this.stack = new Error().stack;\n};\n\nJS_Parse_Error.prototype.toString = function() {\n        return this.message + \" (line: \" + this.line + \", col: \" + this.col + \", pos: \" + this.pos + \")\" + \"\\n\\n\" + this.stack;\n};\n\nfunction js_error(message, line, col, pos) {\n  /*try {\n        console.log(new JS_Parse_Error(message, line, col, pos) );\n  } catch (e){}*/\n};\n\nfunction is_token(token, type, val) {\n        return token.type == type && (val == null || token.value == val);\n};\n\nvar EX_EOF = {};\n\nfunction tokenizer($TEXT) {\n\n        var S = {\n                text            : $TEXT.replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, \"\\n\").replace(/^\\uFEFF/, ''),\n                pos             : 0,\n                tokpos          : 0,\n                line            : 0,\n                tokline         : 0,\n                col             : 0,\n                tokcol          : 0,\n                newline_before  : false,\n                regex_allowed   : false,\n                comments_before : []\n        };\n\n        function peek() { return S.text.charAt(S.pos); };\n\n        function next(signal_eof, in_string) {\n                var ch = S.text.charAt(S.pos++);\n                if (signal_eof && !ch)\n                        throw EX_EOF;\n                if (ch == \"\\n\") {\n                        S.newline_before = S.newline_before || !in_string;\n                        ++S.line;\n                        S.col = 0;\n                } else {\n                        ++S.col;\n                }\n                return ch;\n        };\n\n        function eof() {\n                return !S.peek();\n        };\n\n        function find(what, signal_eof) {\n                var pos = S.text.indexOf(what, S.pos);\n                if (signal_eof && pos == -1) throw EX_EOF;\n                return pos;\n        };\n\n        function start_token() {\n                S.tokline = S.line;\n                S.tokcol = S.col;\n                S.tokpos = S.pos;\n        };\n\n        function token(type, value, is_comment) {\n                S.regex_allowed = ((type == \"operator\" && !HOP(UNARY_POSTFIX, value)) ||\n                                   (type == \"keyword\" && HOP(KEYWORDS_BEFORE_EXPRESSION, value)) ||\n                                   (type == \"punc\" && HOP(PUNC_BEFORE_EXPRESSION, value)));\n                var ret = {\n                        type   : type,\n                        value  : value,\n                        line   : S.tokline,\n                        col    : S.tokcol,\n                        pos    : S.tokpos,\n                        endpos : S.pos,\n                        nlb    : S.newline_before\n                };\n                if (!is_comment) {\n                        ret.comments_before = S.comments_before;\n                        S.comments_before = [];\n                }\n                S.newline_before = false;\n                return ret;\n        };\n\n        function skip_whitespace() {\n                while (HOP(WHITESPACE_CHARS, peek()))\n                        next();\n        };\n\n        function read_while(pred) {\n                var ret = \"\", ch = peek(), i = 0;\n                while (ch && pred(ch, i++)) {\n                        ret += next();\n                        ch = peek();\n                }\n                return ret;\n        };\n\n        function parse_error(err) {\n                js_error(err, S.tokline, S.tokcol, S.tokpos);\n        };\n\n        function read_num(prefix) {\n                var has_e = false, after_e = false, has_x = false, has_dot = prefix == \".\";\n                var num = read_while(function(ch, i){\n                        if (ch == \"x\" || ch == \"X\") {\n                                if (has_x) return false;\n                                return has_x = true;\n                        }\n                        if (!has_x && (ch == \"E\" || ch == \"e\")) {\n                                if (has_e) return false;\n                                return has_e = after_e = true;\n                        }\n                        if (ch == \"-\") {\n                                if (after_e || (i == 0 && !prefix)) return true;\n                                return false;\n                        }\n                        if (ch == \"+\") return after_e;\n                        after_e = false;\n                        if (ch == \".\") {\n                                if (!has_dot && !has_x)\n                                        return has_dot = true;\n                                return false;\n                        }\n                        return is_alphanumeric_char(ch);\n                });\n                if (prefix)\n                        num = prefix + num;\n                var valid = parse_js_number(num);\n                if (!isNaN(valid)) {\n                        return token(\"num\", valid);\n                } else {\n                        parse_error(\"Invalid syntax: \" + num);\n                }\n        };\n\n        function read_escaped_char(in_string) {\n                var ch = next(true, in_string);\n                switch (ch) {\n                    case \"n\" : return \"\\n\";\n                    case \"r\" : return \"\\r\";\n                    case \"t\" : return \"\\t\";\n                    case \"b\" : return \"\\b\";\n                    case \"v\" : return \"\\u000b\";\n                    case \"f\" : return \"\\f\";\n                    case \"0\" : return \"\\0\";\n                    case \"x\" : return String.fromCharCode(hex_bytes(2));\n                    case \"u\" : return String.fromCharCode(hex_bytes(4));\n                    case \"\\n\": return \"\";\n                    default  : return ch;\n                }\n        };\n\n        function hex_bytes(n) {\n                var num = 0;\n                for (; n > 0; --n) {\n                        var digit = parseInt(next(true), 16);\n                        if (isNaN(digit))\n                                parse_error(\"Invalid hex-character pattern in string\");\n                        num = (num << 4) | digit;\n                }\n                return num;\n        };\n\n        function read_string() {\n                return with_eof_error(\"Unterminated string constant\", function(){\n                        var quote = next(), ret = \"\";\n                        for (;;) {\n                                var ch = next(true);\n                                if (ch == \"\\\\\") {\n                                        // read OctalEscapeSequence (XXX: deprecated if \"strict mode\")\n                                        // https://github.com/mishoo/UglifyJS/issues/178\n                                        var octal_len = 0, first = null;\n                                        ch = read_while(function(ch){\n                                                if (ch >= \"0\" && ch <= \"7\") {\n                                                        if (!first) {\n                                                                first = ch;\n                                                                return ++octal_len;\n                                                        }\n                                                        else if (first <= \"3\" && octal_len <= 2) return ++octal_len;\n                                                        else if (first >= \"4\" && octal_len <= 1) return ++octal_len;\n                                                }\n                                                return false;\n                                        });\n                                        if (octal_len > 0) ch = String.fromCharCode(parseInt(ch, 8));\n                                        else ch = read_escaped_char(true);\n                                }\n                                else if (ch == quote) break;\n                                ret += ch;\n                        }\n                        return token(\"string\", ret);\n                });\n        };\n\n        function read_line_comment() {\n                next();\n                var i = find(\"\\n\"), ret;\n                if (i == -1) {\n                        ret = S.text.substr(S.pos);\n                        S.pos = S.text.length;\n                } else {\n                        ret = S.text.substring(S.pos, i);\n                        S.pos = i;\n                }\n                return token(\"comment1\", ret, true);\n        };\n\n        function read_multiline_comment() {\n                next();\n                return with_eof_error(\"Unterminated multiline comment\", function(){\n                        var i = find(\"*/\", true),\n                            text = S.text.substring(S.pos, i);\n                        S.pos = i + 2;\n                        S.line += text.split(\"\\n\").length - 1;\n                        S.newline_before = text.indexOf(\"\\n\") >= 0;\n\n                        // https://github.com/mishoo/UglifyJS/issues/#issue/100\n                        if (/^@cc_on/i.test(text)) {\n                                warn(\"WARNING: at line \" + S.line);\n                                warn(\"*** Found \\\"conditional comment\\\": \" + text);\n                                warn(\"*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer.\");\n                        }\n\n                        return token(\"comment2\", text, true);\n                });\n        };\n\n        function read_name() {\n                var backslash = false, name = \"\", ch;\n                while ((ch = peek()) != null) {\n                        if (!backslash) {\n                                if (ch == \"\\\\\") backslash = true, next();\n                                else if (is_identifier_char(ch)) name += next();\n                                else break;\n                        }\n                        else {\n                                if (ch != \"u\") parse_error(\"Expecting UnicodeEscapeSequence -- uXXXX\");\n                                ch = read_escaped_char();\n                                if (!is_identifier_char(ch)) parse_error(\"Unicode char: \" + ch.charCodeAt(0) + \" is not valid in identifier\");\n                                name += ch;\n                                backslash = false;\n                        }\n                }\n                return name;\n        };\n\n        function read_regexp(regexp) {\n                return with_eof_error(\"Unterminated regular expression\", function(){\n                        var prev_backslash = false, ch, in_class = false;\n                        while ((ch = next(true))) if (prev_backslash) {\n                                regexp += \"\\\\\" + ch;\n                                prev_backslash = false;\n                        } else if (ch == \"[\") {\n                                in_class = true;\n                                regexp += ch;\n                        } else if (ch == \"]\" && in_class) {\n                                in_class = false;\n                                regexp += ch;\n                        } else if (ch == \"/\" && !in_class) {\n                                break;\n                        } else if (ch == \"\\\\\") {\n                                prev_backslash = true;\n                        } else {\n                                regexp += ch;\n                        }\n                        var mods = read_name();\n                        return token(\"regexp\", [ regexp, mods ]);\n                });\n        };\n\n        function read_operator(prefix) {\n                function grow(op) {\n                        if (!peek()) return op;\n                        var bigger = op + peek();\n                        if (HOP(OPERATORS, bigger)) {\n                                next();\n                                return grow(bigger);\n                        } else {\n                                return op;\n                        }\n                };\n                return token(\"operator\", grow(prefix || next()));\n        };\n\n        function handle_slash() {\n                next();\n                var regex_allowed = S.regex_allowed;\n                switch (peek()) {\n                    case \"/\":\n                        S.comments_before.push(read_line_comment());\n                        S.regex_allowed = regex_allowed;\n                        return next_token();\n                    case \"*\":\n                        S.comments_before.push(read_multiline_comment());\n                        S.regex_allowed = regex_allowed;\n                        return next_token();\n                }\n                return S.regex_allowed ? read_regexp(\"\") : read_operator(\"/\");\n        };\n\n        function handle_dot() {\n                next();\n                return is_digit(peek())\n                        ? read_num(\".\")\n                        : token(\"punc\", \".\");\n        };\n\n        function read_word() {\n                var word = read_name();\n                return !HOP(KEYWORDS, word)\n                        ? token(\"name\", word)\n                        : HOP(OPERATORS, word)\n                        ? token(\"operator\", word)\n                        : HOP(KEYWORDS_ATOM, word)\n                        ? token(\"atom\", word)\n                        : token(\"keyword\", word);\n        };\n\n        function with_eof_error(eof_error, cont) {\n                try {\n                        return cont();\n                } catch(ex) {\n                        if (ex === EX_EOF) parse_error(eof_error);\n                        else throw ex;\n                }\n        };\n\n        function next_token(force_regexp) {\n                if (force_regexp != null)\n                        return read_regexp(force_regexp);\n                skip_whitespace();\n                start_token();\n                var ch = peek();\n                if (!ch) return token(\"eof\");\n                if (is_digit(ch)) return read_num();\n                if (ch == '\"' || ch == \"'\") return read_string();\n                if (HOP(PUNC_CHARS, ch)) return token(\"punc\", next());\n                if (ch == \".\") return handle_dot();\n                if (ch == \"/\") return handle_slash();\n                if (HOP(OPERATOR_CHARS, ch)) return read_operator();\n                if (ch == \"\\\\\" || is_identifier_start(ch)) return read_word();\n                parse_error(\"Unexpected character '\" + ch + \"'\");\n        };\n\n        next_token.context = function(nc) {\n                if (nc) S = nc;\n                return S;\n        };\n\n        return next_token;\n\n};\n\n/* -----[ Parser (constants) ]----- */\n\nvar UNARY_PREFIX = array_to_hash([\n        \"typeof\",\n        \"void\",\n        \"delete\",\n        \"--\",\n        \"++\",\n        \"!\",\n        \"~\",\n        \"-\",\n        \"+\"\n]);\n\nvar UNARY_POSTFIX = array_to_hash([ \"--\", \"++\" ]);\n\nvar ASSIGNMENT = (function(a, ret, i){\n        while (i < a.length) {\n                ret[a[i]] = a[i].substr(0, a[i].length - 1);\n                i++;\n        }\n        return ret;\n})(\n        [\"+=\", \"-=\", \"/=\", \"*=\", \"%=\", \">>=\", \"<<=\", \">>>=\", \"|=\", \"^=\", \"&=\"],\n        { \"=\": true },\n        0\n);\n\nvar PRECEDENCE = (function(a, ret){\n        for (var i = 0, n = 1; i < a.length; ++i, ++n) {\n                var b = a[i];\n                for (var j = 0; j < b.length; ++j) {\n                        ret[b[j]] = n;\n                }\n        }\n        return ret;\n})(\n        [\n                [\"||\"],\n                [\"&&\"],\n                [\"|\"],\n                [\"^\"],\n                [\"&\"],\n                [\"==\", \"===\", \"!=\", \"!==\"],\n                [\"<\", \">\", \"<=\", \">=\", \"in\", \"instanceof\"],\n                [\">>\", \"<<\", \">>>\"],\n                [\"+\", \"-\"],\n                [\"*\", \"/\", \"%\"]\n        ],\n        {}\n);\n\nvar STATEMENTS_WITH_LABELS = array_to_hash([ \"for\", \"do\", \"while\", \"switch\" ]);\n\nvar ATOMIC_START_TOKEN = array_to_hash([ \"atom\", \"num\", \"string\", \"regexp\", \"name\" ]);\n\n/* -----[ Parser ]----- */\n\nfunction NodeWithToken(str, start, end) {\n        this.name = str;\n        this.start = start;\n        this.end = end;\n};\n\nNodeWithToken.prototype.toString = function() { return this.name; };\n\nfunction parse($TEXT, exigent_mode, embed_tokens) {\n\n        var S = {\n                input       : typeof $TEXT == \"string\" ? tokenizer($TEXT, true) : $TEXT,\n                token       : null,\n                prev        : null,\n                peeked      : null,\n                in_function : 0,\n                in_loop     : 0,\n                labels      : []\n        };\n\n        S.token = next();\n\n        function is(type, value) {\n                return is_token(S.token, type, value);\n        };\n\n        function peek() { return S.peeked || (S.peeked = S.input()); };\n\n        function next() {\n                S.prev = S.token;\n                if (S.peeked) {\n                        S.token = S.peeked;\n                        S.peeked = null;\n                } else {\n                        S.token = S.input();\n                }\n                return S.token;\n        };\n\n        function prev() {\n                return S.prev;\n        };\n\n        function croak(msg, line, col, pos) {\n                var ctx = S.input.context();\n                js_error(msg,\n                         line != null ? line : ctx.tokline,\n                         col != null ? col : ctx.tokcol,\n                         pos != null ? pos : ctx.tokpos);\n        };\n\n        function token_error(token, msg) {\n                croak(msg, token.line, token.col);\n        };\n\n        function unexpected(token) {\n                if (token == null)\n                        token = S.token;\n                token_error(token, \"Unexpected token: \" + token.type + \" (\" + token.value + \")\");\n        };\n\n        function expect_token(type, val) {\n                if (is(type, val)) {\n                        return next();\n                }\n                token_error(S.token, \"Unexpected token \" + S.token.type + \", expected \" + type);\n        };\n\n        function expect(punc) { return expect_token(\"punc\", punc); };\n\n        function can_insert_semicolon() {\n                return !exigent_mode && (\n                        S.token.nlb || is(\"eof\") || is(\"punc\", \"}\")\n                );\n        };\n\n        function semicolon() {\n                if (is(\"punc\", \";\")) next();\n                else if (!can_insert_semicolon()) unexpected();\n        };\n\n        function as() {\n                return slice(arguments);\n        };\n\n        function parenthesised() {\n                expect(\"(\");\n                var ex = expression();\n                expect(\")\");\n                return ex;\n        };\n\n        function add_tokens(str, start, end) {\n                return str instanceof NodeWithToken ? str : new NodeWithToken(str, start, end);\n        };\n\n        function maybe_embed_tokens(parser) {\n                if (embed_tokens) return function() {\n                        var start = S.token;\n                        var ast = parser.apply(this, arguments);\n                        ast[0] = add_tokens(ast[0], start, prev());\n                        return ast;\n                };\n                else return parser;\n        };\n\n        var statement = maybe_embed_tokens(function() {\n                if (is(\"operator\", \"/\") || is(\"operator\", \"/=\")) {\n                        S.peeked = null;\n                        S.token = S.input(S.token.value.substr(1)); // force regexp\n                }\n                switch (S.token.type) {\n                    case \"num\":\n                    case \"string\":\n                    case \"regexp\":\n                    case \"operator\":\n                    case \"atom\":\n                        return simple_statement();\n\n                    case \"name\":\n                        return is_token(peek(), \"punc\", \":\")\n                                ? labeled_statement(prog1(S.token.value, next, next))\n                                : simple_statement();\n\n                    case \"punc\":\n                        switch (S.token.value) {\n                            case \"{\":\n                                return as(\"block\", block_());\n                            case \"[\":\n                            case \"(\":\n                                return simple_statement();\n                            case \";\":\n                                next();\n                                return as(\"block\");\n                            default:\n                                unexpected();\n                        }\n\n                    case \"keyword\":\n                        switch (prog1(S.token.value, next)) {\n                            case \"break\":\n                                return break_cont(\"break\");\n\n                            case \"continue\":\n                                return break_cont(\"continue\");\n\n                            case \"debugger\":\n                                semicolon();\n                                return as(\"debugger\");\n\n                            case \"do\":\n                                return (function(body){\n                                        expect_token(\"keyword\", \"while\");\n                                        return as(\"do\", prog1(parenthesised, semicolon), body);\n                                })(in_loop(statement));\n\n                            case \"for\":\n                                return for_();\n\n                            case \"function\":\n                                return function_(true);\n\n                            case \"if\":\n                                return if_();\n\n                            case \"return\":\n                                if (S.in_function == 0)\n                                        croak(\"'return' outside of function\");\n                                return as(\"return\",\n                                          is(\"punc\", \";\")\n                                          ? (next(), null)\n                                          : can_insert_semicolon()\n                                          ? null\n                                          : prog1(expression, semicolon));\n\n                            case \"switch\":\n                                return as(\"switch\", parenthesised(), switch_block_());\n\n                            case \"throw\":\n                                if (S.token.nlb)\n                                        croak(\"Illegal newline after 'throw'\");\n                                return as(\"throw\", prog1(expression, semicolon));\n\n                            case \"try\":\n                                return try_();\n\n                            case \"var\":\n                                return prog1(var_, semicolon);\n\n                            case \"const\":\n                                return prog1(const_, semicolon);\n\n                            case \"while\":\n                                return as(\"while\", parenthesised(), in_loop(statement));\n\n                            case \"with\":\n                                return as(\"with\", parenthesised(), statement());\n\n                            default:\n                                unexpected();\n                        }\n                }\n        });\n\n        function labeled_statement(label) {\n                S.labels.push(label);\n                var start = S.token, stat = statement();\n                if (exigent_mode && !HOP(STATEMENTS_WITH_LABELS, stat[0]))\n                        unexpected(start);\n                S.labels.pop();\n                return as(\"label\", label, stat);\n        };\n\n        function simple_statement() {\n                return as(\"stat\", prog1(expression, semicolon));\n        };\n\n        function break_cont(type) {\n                var name;\n                if (!can_insert_semicolon()) {\n                        name = is(\"name\") ? S.token.value : null;\n                }\n                if (name != null) {\n                        next();\n                        if (!member(name, S.labels))\n                                croak(\"Label \" + name + \" without matching loop or statement\");\n                }\n                else if (S.in_loop == 0)\n                        croak(type + \" not inside a loop or switch\");\n                semicolon();\n                return as(type, name);\n        };\n\n        function for_() {\n                expect(\"(\");\n                var init = null;\n                if (!is(\"punc\", \";\")) {\n                        init = is(\"keyword\", \"var\")\n                                ? (next(), var_(true))\n                                : expression(true, true);\n                        if (is(\"operator\", \"in\")) {\n                                if (init[0] == \"var\" && init[1].length > 1)\n                                        croak(\"Only one variable declaration allowed in for..in loop\");\n                                return for_in(init);\n                        }\n                }\n                return regular_for(init);\n        };\n\n        function regular_for(init) {\n                expect(\";\");\n                var test = is(\"punc\", \";\") ? null : expression();\n                expect(\";\");\n                var step = is(\"punc\", \")\") ? null : expression();\n                expect(\")\");\n                return as(\"for\", init, test, step, in_loop(statement));\n        };\n\n        function for_in(init) {\n                var lhs = init[0] == \"var\" ? as(\"name\", init[1][0]) : init;\n                next();\n                var obj = expression();\n                expect(\")\");\n                return as(\"for-in\", init, lhs, obj, in_loop(statement));\n        };\n\n        var function_ = function(in_statement) {\n                var name = is(\"name\") ? prog1(S.token.value, next) : null;\n                if (in_statement && !name)\n                        unexpected();\n                expect(\"(\");\n                return as(in_statement ? \"defun\" : \"function\",\n                          name,\n                          // arguments\n                          (function(first, a){\n                                  while (!is(\"punc\", \")\")) {\n                                          if (first) first = false; else expect(\",\");\n                                          if (!is(\"name\")) unexpected();\n                                          a.push(S.token.value);\n                                          next();\n                                  }\n                                  next();\n                                  return a;\n                          })(true, []),\n                          // body\n                          (function(){\n                                  ++S.in_function;\n                                  var loop = S.in_loop;\n                                  S.in_loop = 0;\n                                  var a = block_();\n                                  --S.in_function;\n                                  S.in_loop = loop;\n                                  return a;\n                          })());\n        };\n\n        function if_() {\n                var cond = parenthesised(), body = statement(), belse;\n                if (is(\"keyword\", \"else\")) {\n                        next();\n                        belse = statement();\n                }\n                return as(\"if\", cond, body, belse);\n        };\n\n        function block_() {\n                expect(\"{\");\n                var a = [];\n                while (!is(\"punc\", \"}\")) {\n                        if (is(\"eof\")) unexpected();\n                        a.push(statement());\n                }\n                next();\n                return a;\n        };\n\n        var switch_block_ = curry(in_loop, function(){\n                expect(\"{\");\n                var a = [], cur = null;\n                while (!is(\"punc\", \"}\")) {\n                        if (is(\"eof\")) unexpected();\n                        if (is(\"keyword\", \"case\")) {\n                                next();\n                                cur = [];\n                                a.push([ expression(), cur ]);\n                                expect(\":\");\n                        }\n                        else if (is(\"keyword\", \"default\")) {\n                                next();\n                                expect(\":\");\n                                cur = [];\n                                a.push([ null, cur ]);\n                        }\n                        else {\n                                if (!cur) unexpected();\n                                cur.push(statement());\n                        }\n                }\n                next();\n                return a;\n        });\n\n        function try_() {\n                var body = block_(), bcatch, bfinally;\n                if (is(\"keyword\", \"catch\")) {\n                        next();\n                        expect(\"(\");\n                        if (!is(\"name\"))\n                                croak(\"Name expected\");\n                        var name = S.token.value;\n                        next();\n                        expect(\")\");\n                        bcatch = [ name, block_() ];\n                }\n                if (is(\"keyword\", \"finally\")) {\n                        next();\n                        bfinally = block_();\n                }\n                if (!bcatch && !bfinally)\n                        croak(\"Missing catch/finally blocks\");\n                return as(\"try\", body, bcatch, bfinally);\n        };\n\n        function vardefs(no_in) {\n                var a = [];\n                for (;;) {\n                        if (!is(\"name\"))\n                                unexpected();\n                        var name = S.token.value;\n                        next();\n                        if (is(\"operator\", \"=\")) {\n                                next();\n                                a.push([ name, expression(false, no_in) ]);\n                        } else {\n                                a.push([ name ]);\n                        }\n                        if (!is(\"punc\", \",\"))\n                                break;\n                        next();\n                }\n                return a;\n        };\n\n        function var_(no_in) {\n                return as(\"var\", vardefs(no_in));\n        };\n\n        function const_() {\n                return as(\"const\", vardefs());\n        };\n\n        function new_() {\n                var newexp = expr_atom(false), args;\n                if (is(\"punc\", \"(\")) {\n                        next();\n                        args = expr_list(\")\");\n                } else {\n                        args = [];\n                }\n                return subscripts(as(\"new\", newexp, args), true);\n        };\n\n        var expr_atom = maybe_embed_tokens(function(allow_calls) {\n                if (is(\"operator\", \"new\")) {\n                        next();\n                        return new_();\n                }\n                if (is(\"punc\")) {\n                        switch (S.token.value) {\n                            case \"(\":\n                                next();\n                                return subscripts(prog1(expression, curry(expect, \")\")), allow_calls);\n                            case \"[\":\n                                next();\n                                return subscripts(array_(), allow_calls);\n                            case \"{\":\n                                next();\n                                return subscripts(object_(), allow_calls);\n                        }\n                        unexpected();\n                }\n                if (is(\"keyword\", \"function\")) {\n                        next();\n                        return subscripts(function_(false), allow_calls);\n                }\n                if (HOP(ATOMIC_START_TOKEN, S.token.type)) {\n                        var atom = S.token.type == \"regexp\"\n                                ? as(\"regexp\", S.token.value[0], S.token.value[1])\n                                : as(S.token.type, S.token.value);\n                        return subscripts(prog1(atom, next), allow_calls);\n                }\n                unexpected();\n        });\n\n        function expr_list(closing, allow_trailing_comma, allow_empty) {\n                var first = true, a = [];\n                while (!is(\"punc\", closing)) {\n                        if (first) first = false; else expect(\",\");\n                        if (allow_trailing_comma && is(\"punc\", closing)) break;\n                        if (is(\"punc\", \",\") && allow_empty) {\n                                a.push([ \"atom\", \"undefined\" ]);\n                        } else {\n                                a.push(expression(false));\n                        }\n                }\n                next();\n                return a;\n        };\n\n        function array_() {\n                return as(\"array\", expr_list(\"]\", !exigent_mode, true));\n        };\n\n        function object_() {\n                var first = true, a = [];\n                while (!is(\"punc\", \"}\")) {\n                        if (first) first = false; else expect(\",\");\n                        if (!exigent_mode && is(\"punc\", \"}\"))\n                                // allow trailing comma\n                                break;\n                        var type = S.token.type;\n                        var name = as_property_name();\n                        if (type == \"name\" && (name == \"get\" || name == \"set\") && !is(\"punc\", \":\")) {\n                                a.push([ as_name(), function_(false), name ]);\n                        } else {\n                                expect(\":\");\n                                a.push([ name, expression(false) ]);\n                        }\n                }\n                next();\n                return as(\"object\", a);\n        };\n\n        function as_property_name() {\n                switch (S.token.type) {\n                    case \"num\":\n                    case \"string\":\n                        return prog1(S.token.value, next);\n                }\n                return as_name();\n        };\n\n        function as_name() {\n                switch (S.token.type) {\n                    case \"name\":\n                    case \"operator\":\n                    case \"keyword\":\n                    case \"atom\":\n                        return prog1(S.token.value, next);\n                    default:\n                        unexpected();\n                }\n        };\n\n        function subscripts(expr, allow_calls) {\n                if (is(\"punc\", \".\")) {\n                        next();\n                        return subscripts(as(\"dot\", expr, as_name()), allow_calls);\n                }\n                if (is(\"punc\", \"[\")) {\n                        next();\n                        return subscripts(as(\"sub\", expr, prog1(expression, curry(expect, \"]\"))), allow_calls);\n                }\n                if (allow_calls && is(\"punc\", \"(\")) {\n                        next();\n                        return subscripts(as(\"call\", expr, expr_list(\")\")), true);\n                }\n                return expr;\n        };\n\n        function maybe_unary(allow_calls) {\n                if (is(\"operator\") && HOP(UNARY_PREFIX, S.token.value)) {\n                        return make_unary(\"unary-prefix\",\n                                          prog1(S.token.value, next),\n                                          maybe_unary(allow_calls));\n                }\n                var val = expr_atom(allow_calls);\n                while (is(\"operator\") && HOP(UNARY_POSTFIX, S.token.value) && !S.token.nlb) {\n                        val = make_unary(\"unary-postfix\", S.token.value, val);\n                        next();\n                }\n                return val;\n        };\n\n        function make_unary(tag, op, expr) {\n                if ((op == \"++\" || op == \"--\") && !is_assignable(expr))\n                        croak(\"Invalid use of \" + op + \" operator\");\n                return as(tag, op, expr);\n        };\n\n        function expr_op(left, min_prec, no_in) {\n                var op = is(\"operator\") ? S.token.value : null;\n                if (op && op == \"in\" && no_in) op = null;\n                var prec = op != null ? PRECEDENCE[op] : null;\n                if (prec != null && prec > min_prec) {\n                        next();\n                        var right = expr_op(maybe_unary(true), prec, no_in);\n                        return expr_op(as(\"binary\", op, left, right), min_prec, no_in);\n                }\n                return left;\n        };\n\n        function expr_ops(no_in) {\n                return expr_op(maybe_unary(true), 0, no_in);\n        };\n\n        function maybe_conditional(no_in) {\n                var expr = expr_ops(no_in);\n                if (is(\"operator\", \"?\")) {\n                        next();\n                        var yes = expression(false);\n                        expect(\":\");\n                        return as(\"conditional\", expr, yes, expression(false, no_in));\n                }\n                return expr;\n        };\n\n        function is_assignable(expr) {\n                if (!exigent_mode) return true;\n                switch (expr[0]+\"\") {\n                    case \"dot\":\n                    case \"sub\":\n                    case \"new\":\n                    case \"call\":\n                        return true;\n                    case \"name\":\n                        return expr[1] != \"this\";\n                }\n        };\n\n        function maybe_assign(no_in) {\n                var left = maybe_conditional(no_in), val = S.token.value;\n                if (is(\"operator\") && HOP(ASSIGNMENT, val)) {\n                        if (is_assignable(left)) {\n                                next();\n                                return as(\"assign\", ASSIGNMENT[val], left, maybe_assign(no_in));\n                        }\n                        croak(\"Invalid assignment\");\n                }\n                return left;\n        };\n\n        var expression = maybe_embed_tokens(function(commas, no_in) {\n                if (arguments.length == 0)\n                        commas = true;\n                var expr = maybe_assign(no_in);\n                if (commas && is(\"punc\", \",\")) {\n                        next();\n                        return as(\"seq\", expr, expression(true, no_in));\n                }\n                return expr;\n        });\n\n        function in_loop(cont) {\n                try {\n                        ++S.in_loop;\n                        return cont();\n                }\n                //>> Start Uglifui\n                catch (e) {}\n                //>> End Uglifui\n                finally {\n                        --S.in_loop;\n                }\n        };\n\n        return as(\"toplevel\", (function(a){\n                while (!is(\"eof\"))\n                        a.push(statement());\n                return a;\n        })([]));\n\n};\n\n/* -----[ Utilities ]----- */\n\nfunction curry(f) {\n        var args = slice(arguments, 1);\n        return function() { return f.apply(this, args.concat(slice(arguments))); };\n};\n\nfunction prog1(ret) {\n        if (ret instanceof Function)\n                ret = ret();\n        for (var i = 1, n = arguments.length; --n > 0; ++i)\n                arguments[i]();\n        return ret;\n};\n\nfunction array_to_hash(a) {\n        var ret = {};\n        for (var i = 0; i < a.length; ++i)\n                ret[a[i]] = true;\n        return ret;\n};\n\nfunction slice(a, start) {\n        return Array.prototype.slice.call(a, start || 0);\n};\n\nfunction characters(str) {\n        return str.split(\"\");\n};\n\nfunction member(name, array) {\n        for (var i = array.length; --i >= 0;)\n                if (array[i] == name)\n                        return true;\n        return false;\n};\n\nfunction HOP(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n\nvar warn = function() {};\n\n//>> Start Uglifui\nvar parsejs = {};\n(function ( exports ) {\n//>> End Uglifui\n\n/* -----[ Exports ]----- */\n\nexports.tokenizer = tokenizer;\nexports.parse = parse;\nexports.slice = slice;\nexports.curry = curry;\nexports.member = member;\nexports.array_to_hash = array_to_hash;\nexports.PRECEDENCE = PRECEDENCE;\nexports.KEYWORDS_ATOM = KEYWORDS_ATOM;\nexports.RESERVED_WORDS = RESERVED_WORDS;\nexports.KEYWORDS = KEYWORDS;\nexports.ATOMIC_START_TOKEN = ATOMIC_START_TOKEN;\nexports.OPERATORS = OPERATORS;\nexports.is_alphanumeric_char = is_alphanumeric_char;\nexports.set_logger = function(logger) {\n        warn = logger;\n};\n\n//>> Start Uglifui\n})( parsejs );\n \nglobal.parsejs = parsejs;\n \n})( this );\n//>> End Uglifui\n","/***********************************************************************\n\n  A JavaScript tokenizer / parser / beautifier / compressor.\n\n  This version is suitable for Node.js.  With minimal changes (the\n  exports stuff) it should work on any JS platform.\n\n  This file implements some AST processors.  They work on data built\n  by parse-js.\n\n  Exported functions:\n\n    - ast_mangle(ast, options) -- mangles the variable/function names\n      in the AST.  Returns an AST.\n\n    - ast_squeeze(ast) -- employs various optimizations to make the\n      final generated code even smaller.  Returns an AST.\n\n    - gen_code(ast, options) -- generates JS code from the AST.  Pass\n      true (or an object, see the code for some options) as second\n      argument to get \"pretty\" (indented) code.\n\n  -------------------------------- (C) ---------------------------------\n\n                           Author: Mihai Bazon\n                         <mihai.bazon@gmail.com>\n                       http://mihai.bazon.net/blog\n\n  Distributed under the BSD license:\n\n    Copyright 2010 (c) Mihai Bazon <mihai.bazon@gmail.com>\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions\n    are met:\n\n        * Redistributions of source code must retain the above\n          copyright notice, this list of conditions and the following\n          disclaimer.\n\n        * Redistributions in binary form must reproduce the above\n          copyright notice, this list of conditions and the following\n          disclaimer in the documentation and/or other materials\n          provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY\n    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\n    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR\n    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n    SUCH DAMAGE.\n\n ***********************************************************************/\n//>> Start Uglifui\n(function ( global ) {\n\nvar jsp = global.parsejs, //require(\"./parse-js\"),\n//>> End Uglifui\n    slice = jsp.slice,\n    member = jsp.member,\n    PRECEDENCE = jsp.PRECEDENCE,\n    OPERATORS = jsp.OPERATORS;\n\n/* -----[ helper for AST traversal ]----- */\n\nfunction ast_walker() {\n        function _vardefs(defs) {\n                return [ this[0], MAP(defs, function(def){\n                        var a = [ def[0] ];\n                        if (def.length > 1)\n                                a[1] = walk(def[1]);\n                        return a;\n                }) ];\n        };\n        function _block(statements) {\n                var out = [ this[0] ];\n                if (statements != null)\n                        out.push(MAP(statements, walk));\n                return out;\n        };\n        var walkers = {\n                \"string\": function(str) {\n                        return [ this[0], str ];\n                },\n                \"num\": function(num) {\n                        return [ this[0], num ];\n                },\n                \"name\": function(name) {\n                        return [ this[0], name ];\n                },\n                \"toplevel\": function(statements) {\n                        return [ this[0], MAP(statements, walk) ];\n                },\n                \"block\": _block,\n                \"splice\": _block,\n                \"var\": _vardefs,\n                \"const\": _vardefs,\n                \"try\": function(t, c, f) {\n                        return [\n                                this[0],\n                                MAP(t, walk),\n                                c != null ? [ c[0], MAP(c[1], walk) ] : null,\n                                f != null ? MAP(f, walk) : null\n                        ];\n                },\n                \"throw\": function(expr) {\n                        return [ this[0], walk(expr) ];\n                },\n                \"new\": function(ctor, args) {\n                        return [ this[0], walk(ctor), MAP(args, walk) ];\n                },\n                \"switch\": function(expr, body) {\n                        return [ this[0], walk(expr), MAP(body, function(branch){\n                                return [ branch[0] ? walk(branch[0]) : null,\n                                         MAP(branch[1], walk) ];\n                        }) ];\n                },\n                \"break\": function(label) {\n                        return [ this[0], label ];\n                },\n                \"continue\": function(label) {\n                        return [ this[0], label ];\n                },\n                \"conditional\": function(cond, t, e) {\n                        return [ this[0], walk(cond), walk(t), walk(e) ];\n                },\n                \"assign\": function(op, lvalue, rvalue) {\n                        return [ this[0], op, walk(lvalue), walk(rvalue) ];\n                },\n                \"dot\": function(expr) {\n                        return [ this[0], walk(expr) ].concat(slice(arguments, 1));\n                },\n                \"call\": function(expr, args) {\n                        return [ this[0], walk(expr), MAP(args, walk) ];\n                },\n                \"function\": function(name, args, body) {\n                        return [ this[0], name, args.slice(), MAP(body, walk) ];\n                },\n                \"debugger\": function() {\n                        return [ this[0] ];\n                },\n                \"defun\": function(name, args, body) {\n                        return [ this[0], name, args.slice(), MAP(body, walk) ];\n                },\n                \"if\": function(conditional, t, e) {\n                        return [ this[0], walk(conditional), walk(t), walk(e) ];\n                },\n                \"for\": function(init, cond, step, block) {\n                        return [ this[0], walk(init), walk(cond), walk(step), walk(block) ];\n                },\n                \"for-in\": function(vvar, key, hash, block) {\n                        return [ this[0], walk(vvar), walk(key), walk(hash), walk(block) ];\n                },\n                \"while\": function(cond, block) {\n                        return [ this[0], walk(cond), walk(block) ];\n                },\n                \"do\": function(cond, block) {\n                        return [ this[0], walk(cond), walk(block) ];\n                },\n                \"return\": function(expr) {\n                        return [ this[0], walk(expr) ];\n                },\n                \"binary\": function(op, left, right) {\n                        return [ this[0], op, walk(left), walk(right) ];\n                },\n                \"unary-prefix\": function(op, expr) {\n                        return [ this[0], op, walk(expr) ];\n                },\n                \"unary-postfix\": function(op, expr) {\n                        return [ this[0], op, walk(expr) ];\n                },\n                \"sub\": function(expr, subscript) {\n                        return [ this[0], walk(expr), walk(subscript) ];\n                },\n                \"object\": function(props) {\n                        return [ this[0], MAP(props, function(p){\n                                return p.length == 2\n                                        ? [ p[0], walk(p[1]) ]\n                                        : [ p[0], walk(p[1]), p[2] ]; // get/set-ter\n                        }) ];\n                },\n                \"regexp\": function(rx, mods) {\n                        return [ this[0], rx, mods ];\n                },\n                \"array\": function(elements) {\n                        return [ this[0], MAP(elements, walk) ];\n                },\n                \"stat\": function(stat) {\n                        return [ this[0], walk(stat) ];\n                },\n                \"seq\": function() {\n                        return [ this[0] ].concat(MAP(slice(arguments), walk));\n                },\n                \"label\": function(name, block) {\n                        return [ this[0], name, walk(block) ];\n                },\n                \"with\": function(expr, block) {\n                        return [ this[0], walk(expr), walk(block) ];\n                },\n                \"atom\": function(name) {\n                        return [ this[0], name ];\n                }\n        };\n\n        var user = {};\n        var stack = [];\n        function walk(ast) {\n                if (ast == null)\n                        return null;\n                try {\n                        stack.push(ast);\n                        var type = ast[0];\n                        var gen = user[type];\n                        if (gen) {\n                                var ret = gen.apply(ast, ast.slice(1));\n                                if (ret != null)\n                                        return ret;\n                        }\n                        gen = walkers[type];\n                        return gen.apply(ast, ast.slice(1));\n                }\n                //>> Start Uglifui\n                catch (e) {}\n                //>> End Uglifui\n                finally {\n                        stack.pop();\n                }\n        };\n\n        function dive(ast) {\n                if (ast == null)\n                        return null;\n                try {\n                        stack.push(ast);\n                        return walkers[ast[0]].apply(ast, ast.slice(1));\n                }\n                //>> Start Uglifui\n                catch (e) {}\n                //>> End Uglifui\n                finally {\n                        stack.pop();\n                }\n        };\n\n        function with_walkers(walkers, cont){\n                var save = {}, i;\n                for (i in walkers) if (HOP(walkers, i)) {\n                        save[i] = user[i];\n                        user[i] = walkers[i];\n                }\n                var ret = cont();\n                for (i in save) if (HOP(save, i)) {\n                        if (!save[i]) delete user[i];\n                        else user[i] = save[i];\n                }\n                return ret;\n        };\n\n        return {\n                walk: walk,\n                dive: dive,\n                with_walkers: with_walkers,\n                parent: function() {\n                        return stack[stack.length - 2]; // last one is current node\n                },\n                stack: function() {\n                        return stack;\n                }\n        };\n};\n\n/* -----[ Scope and mangling ]----- */\n\nfunction Scope(parent) {\n        this.names = {};        // names defined in this scope\n        this.mangled = {};      // mangled names (orig.name => mangled)\n        this.rev_mangled = {};  // reverse lookup (mangled => orig.name)\n        this.cname = -1;        // current mangled name\n        this.refs = {};         // names referenced from this scope\n        this.uses_with = false; // will become TRUE if with() is detected in this or any subscopes\n        this.uses_eval = false; // will become TRUE if eval() is detected in this or any subscopes\n        this.parent = parent;   // parent scope\n        this.children = [];     // sub-scopes\n        if (parent) {\n                this.level = parent.level + 1;\n                parent.children.push(this);\n        } else {\n                this.level = 0;\n        }\n};\n\nvar base54 = (function(){\n        var DIGITS = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789\";\n        return function(num) {\n                var ret = \"\", base = 54;\n                do {\n                        ret += DIGITS.charAt(num % base);\n                        num = Math.floor(num / base);\n                        base = 64;\n                } while (num > 0);\n                return ret;\n        };\n})();\n\nScope.prototype = {\n        has: function(name) {\n                for (var s = this; s; s = s.parent)\n                        if (HOP(s.names, name))\n                                return s;\n        },\n        has_mangled: function(mname) {\n                for (var s = this; s; s = s.parent)\n                        if (HOP(s.rev_mangled, mname))\n                                return s;\n        },\n        toJSON: function() {\n                return {\n                        names: this.names,\n                        uses_eval: this.uses_eval,\n                        uses_with: this.uses_with\n                };\n        },\n\n        next_mangled: function() {\n                // we must be careful that the new mangled name:\n                //\n                // 1. doesn't shadow a mangled name from a parent\n                //    scope, unless we don't reference the original\n                //    name from this scope OR from any sub-scopes!\n                //    This will get slow.\n                //\n                // 2. doesn't shadow an original name from a parent\n                //    scope, in the event that the name is not mangled\n                //    in the parent scope and we reference that name\n                //    here OR IN ANY SUBSCOPES!\n                //\n                // 3. doesn't shadow a name that is referenced but not\n                //    defined (possibly global defined elsewhere).\n                for (;;) {\n                        var m = base54(++this.cname), prior;\n\n                        // case 1.\n                        prior = this.has_mangled(m);\n                        if (prior && this.refs[prior.rev_mangled[m]] === prior)\n                                continue;\n\n                        // case 2.\n                        prior = this.has(m);\n                        if (prior && prior !== this && this.refs[m] === prior && !prior.has_mangled(m))\n                                continue;\n\n                        // case 3.\n                        if (HOP(this.refs, m) && this.refs[m] == null)\n                                continue;\n\n                        // I got \"do\" once. :-/\n                        if (!is_identifier(m))\n                                continue;\n\n                        return m;\n                }\n        },\n        set_mangle: function(name, m) {\n                this.rev_mangled[m] = name;\n                return this.mangled[name] = m;\n        },\n        get_mangled: function(name, newMangle) {\n                if (this.uses_eval || this.uses_with) return name; // no mangle if eval or with is in use\n                var s = this.has(name);\n                if (!s) return name; // not in visible scope, no mangle\n                if (HOP(s.mangled, name)) return s.mangled[name]; // already mangled in this scope\n                if (!newMangle) return name;                      // not found and no mangling requested\n                return s.set_mangle(name, s.next_mangled());\n        },\n        references: function(name) {\n                return name && !this.parent || this.uses_with || this.uses_eval || this.refs[name];\n        },\n        define: function(name, type) {\n                if (name != null) {\n                        if (type == \"var\" || !HOP(this.names, name))\n                                this.names[name] = type || \"var\";\n                        return name;\n                }\n        }\n};\n\nfunction ast_add_scope(ast) {\n\n        var current_scope = null;\n        var w = ast_walker(), walk = w.walk;\n        var having_eval = [];\n\n        function with_new_scope(cont) {\n                current_scope = new Scope(current_scope);\n                current_scope.labels = new Scope();\n                var ret = current_scope.body = cont();\n                ret.scope = current_scope;\n                current_scope = current_scope.parent;\n                return ret;\n        };\n\n        function define(name, type) {\n                return current_scope.define(name, type);\n        };\n\n        function reference(name) {\n                current_scope.refs[name] = true;\n        };\n\n        function _lambda(name, args, body) {\n                var is_defun = this[0] == \"defun\";\n                return [ this[0], is_defun ? define(name, \"defun\") : name, args, with_new_scope(function(){\n                        if (!is_defun) define(name, \"lambda\");\n                        MAP(args, function(name){ define(name, \"arg\") });\n                        return MAP(body, walk);\n                })];\n        };\n\n        function _vardefs(type) {\n                return function(defs) {\n                        MAP(defs, function(d){\n                                define(d[0], type);\n                                if (d[1]) reference(d[0]);\n                        });\n                };\n        };\n\n        function _breacont(label) {\n                if (label)\n                        current_scope.labels.refs[label] = true;\n        };\n\n        return with_new_scope(function(){\n                // process AST\n                var ret = w.with_walkers({\n                        \"function\": _lambda,\n                        \"defun\": _lambda,\n                        \"label\": function(name, stat) { current_scope.labels.define(name) },\n                        \"break\": _breacont,\n                        \"continue\": _breacont,\n                        \"with\": function(expr, block) {\n                                for (var s = current_scope; s; s = s.parent)\n                                        s.uses_with = true;\n                        },\n                        \"var\": _vardefs(\"var\"),\n                        \"const\": _vardefs(\"const\"),\n                        \"try\": function(t, c, f) {\n                                if (c != null) return [\n                                        this[0],\n                                        MAP(t, walk),\n                                        [ define(c[0], \"catch\"), MAP(c[1], walk) ],\n                                        f != null ? MAP(f, walk) : null\n                                ];\n                        },\n                        \"name\": function(name) {\n                                if (name == \"eval\")\n                                        having_eval.push(current_scope);\n                                reference(name);\n                        }\n                }, function(){\n                        return walk(ast);\n                });\n\n                // the reason why we need an additional pass here is\n                // that names can be used prior to their definition.\n\n                // scopes where eval was detected and their parents\n                // are marked with uses_eval, unless they define the\n                // \"eval\" name.\n                MAP(having_eval, function(scope){\n                        if (!scope.has(\"eval\")) while (scope) {\n                                scope.uses_eval = true;\n                                scope = scope.parent;\n                        }\n                });\n\n                // for referenced names it might be useful to know\n                // their origin scope.  current_scope here is the\n                // toplevel one.\n                function fixrefs(scope, i) {\n                        // do children first; order shouldn't matter\n                        for (i = scope.children.length; --i >= 0;)\n                                fixrefs(scope.children[i]);\n                        for (i in scope.refs) if (HOP(scope.refs, i)) {\n                                // find origin scope and propagate the reference to origin\n                                for (var origin = scope.has(i), s = scope; s; s = s.parent) {\n                                        s.refs[i] = origin;\n                                        if (s === origin) break;\n                                }\n                        }\n                };\n                fixrefs(current_scope);\n\n                return ret;\n        });\n\n};\n\n/* -----[ mangle names ]----- */\n\nfunction ast_mangle(ast, options) {\n        var w = ast_walker(), walk = w.walk, scope;\n        options = options || {};\n\n        function get_mangled(name, newMangle) {\n                if (!options.toplevel && !scope.parent) return name; // don't mangle toplevel\n                if (options.except && member(name, options.except))\n                        return name;\n                return scope.get_mangled(name, newMangle);\n        };\n\n        function get_define(name) {\n                if (options.defines) {\n                        // we always lookup a defined symbol for the current scope FIRST, so declared\n                        // vars trump a DEFINE symbol, but if no such var is found, then match a DEFINE value\n                        if (!scope.has(name)) {\n                                if (HOP(options.defines, name)) {\n                                        return options.defines[name];\n                                }\n                        }\n                        return null;\n                }\n        };\n\n        function _lambda(name, args, body) {\n                if (!options.no_functions) {\n                        var is_defun = this[0] == \"defun\", extra;\n                        if (name) {\n                                if (is_defun) name = get_mangled(name);\n                                else if (body.scope.references(name)) {\n                                        extra = {};\n                                        if (!(scope.uses_eval || scope.uses_with))\n                                                name = extra[name] = scope.next_mangled();\n                                        else\n                                                extra[name] = name;\n                                }\n                                else name = null;\n                        }\n                }\n                body = with_scope(body.scope, function(){\n                        args = MAP(args, function(name){ return get_mangled(name) });\n                        return MAP(body, walk);\n                }, extra);\n                return [ this[0], name, args, body ];\n        };\n\n        function with_scope(s, cont, extra) {\n                var _scope = scope;\n                scope = s;\n                if (extra) for (var i in extra) if (HOP(extra, i)) {\n                        s.set_mangle(i, extra[i]);\n                }\n                for (var i in s.names) if (HOP(s.names, i)) {\n                        get_mangled(i, true);\n                }\n                var ret = cont();\n                ret.scope = s;\n                scope = _scope;\n                return ret;\n        };\n\n        function _vardefs(defs) {\n                return [ this[0], MAP(defs, function(d){\n                        return [ get_mangled(d[0]), walk(d[1]) ];\n                }) ];\n        };\n\n        function _breacont(label) {\n                if (label) return [ this[0], scope.labels.get_mangled(label) ];\n        };\n\n        return w.with_walkers({\n                \"function\": _lambda,\n                \"defun\": function() {\n                        // move function declarations to the top when\n                        // they are not in some block.\n                        var ast = _lambda.apply(this, arguments);\n                        switch (w.parent()[0]) {\n                            case \"toplevel\":\n                            case \"function\":\n                            case \"defun\":\n                                return MAP.at_top(ast);\n                        }\n                        return ast;\n                },\n                \"label\": function(label, stat) {\n                        if (scope.labels.refs[label]) return [\n                                this[0],\n                                scope.labels.get_mangled(label, true),\n                                walk(stat)\n                        ];\n                        return walk(stat);\n                },\n                \"break\": _breacont,\n                \"continue\": _breacont,\n                \"var\": _vardefs,\n                \"const\": _vardefs,\n                \"name\": function(name) {\n                        return get_define(name) || [ this[0], get_mangled(name) ];\n                },\n                \"try\": function(t, c, f) {\n                        return [ this[0],\n                                 MAP(t, walk),\n                                 c != null ? [ get_mangled(c[0]), MAP(c[1], walk) ] : null,\n                                 f != null ? MAP(f, walk) : null ];\n                },\n                \"toplevel\": function(body) {\n                        var self = this;\n                        return with_scope(self.scope, function(){\n                                return [ self[0], MAP(body, walk) ];\n                        });\n                }\n        }, function() {\n                return walk(ast_add_scope(ast));\n        });\n};\n\n/* -----[\n   - compress foo[\"bar\"] into foo.bar,\n   - remove block brackets {} where possible\n   - join consecutive var declarations\n   - various optimizations for IFs:\n     - if (cond) foo(); else bar();  ==>  cond?foo():bar();\n     - if (cond) foo();  ==>  cond&&foo();\n     - if (foo) return bar(); else return baz();  ==> return foo?bar():baz(); // also for throw\n     - if (foo) return bar(); else something();  ==> {if(foo)return bar();something()}\n   ]----- */\n\nvar warn = function(){};\n\nfunction best_of(ast1, ast2) {\n        return gen_code(ast1).length > gen_code(ast2[0] == \"stat\" ? ast2[1] : ast2).length ? ast2 : ast1;\n};\n\nfunction last_stat(b) {\n        if (b[0] == \"block\" && b[1] && b[1].length > 0)\n                return b[1][b[1].length - 1];\n        return b;\n}\n\nfunction aborts(t) {\n        if (t) switch (last_stat(t)[0]) {\n            case \"return\":\n            case \"break\":\n            case \"continue\":\n            case \"throw\":\n                return true;\n        }\n};\n\nfunction boolean_expr(expr) {\n        return ( (expr[0] == \"unary-prefix\"\n                  && member(expr[1], [ \"!\", \"delete\" ])) ||\n\n                 (expr[0] == \"binary\"\n                  && member(expr[1], [ \"in\", \"instanceof\", \"==\", \"!=\", \"===\", \"!==\", \"<\", \"<=\", \">=\", \">\" ])) ||\n\n                 (expr[0] == \"binary\"\n                  && member(expr[1], [ \"&&\", \"||\" ])\n                  && boolean_expr(expr[2])\n                  && boolean_expr(expr[3])) ||\n\n                 (expr[0] == \"conditional\"\n                  && boolean_expr(expr[2])\n                  && boolean_expr(expr[3])) ||\n\n                 (expr[0] == \"assign\"\n                  && expr[1] === true\n                  && boolean_expr(expr[3])) ||\n\n                 (expr[0] == \"seq\"\n                  && boolean_expr(expr[expr.length - 1]))\n               );\n};\n\nfunction empty(b) {\n        return !b || (b[0] == \"block\" && (!b[1] || b[1].length == 0));\n};\n\nfunction is_string(node) {\n        return (node[0] == \"string\" ||\n                node[0] == \"unary-prefix\" && node[1] == \"typeof\" ||\n                node[0] == \"binary\" && node[1] == \"+\" &&\n                (is_string(node[2]) || is_string(node[3])));\n};\n\nvar when_constant = (function(){\n\n        var $NOT_CONSTANT = {};\n\n        // this can only evaluate constant expressions.  If it finds anything\n        // not constant, it throws $NOT_CONSTANT.\n        function evaluate(expr) {\n                switch (expr[0]) {\n                    case \"string\":\n                    case \"num\":\n                        return expr[1];\n                    case \"name\":\n                    case \"atom\":\n                        switch (expr[1]) {\n                            case \"true\": return true;\n                            case \"false\": return false;\n                            case \"null\": return null;\n                        }\n                        break;\n                    case \"unary-prefix\":\n                        switch (expr[1]) {\n                            case \"!\": return !evaluate(expr[2]);\n                            case \"typeof\": return typeof evaluate(expr[2]);\n                            case \"~\": return ~evaluate(expr[2]);\n                            case \"-\": return -evaluate(expr[2]);\n                            case \"+\": return +evaluate(expr[2]);\n                        }\n                        break;\n                    case \"binary\":\n                        var left = expr[2], right = expr[3];\n                        switch (expr[1]) {\n                            case \"&&\"         : return evaluate(left) &&         evaluate(right);\n                            case \"||\"         : return evaluate(left) ||         evaluate(right);\n                            case \"|\"          : return evaluate(left) |          evaluate(right);\n                            case \"&\"          : return evaluate(left) &          evaluate(right);\n                            case \"^\"          : return evaluate(left) ^          evaluate(right);\n                            case \"+\"          : return evaluate(left) +          evaluate(right);\n                            case \"*\"          : return evaluate(left) *          evaluate(right);\n                            case \"/\"          : return evaluate(left) /          evaluate(right);\n                            case \"%\"          : return evaluate(left) %          evaluate(right);\n                            case \"-\"          : return evaluate(left) -          evaluate(right);\n                            case \"<<\"         : return evaluate(left) <<         evaluate(right);\n                            case \">>\"         : return evaluate(left) >>         evaluate(right);\n                            case \">>>\"        : return evaluate(left) >>>        evaluate(right);\n                            case \"==\"         : return evaluate(left) ==         evaluate(right);\n                            case \"===\"        : return evaluate(left) ===        evaluate(right);\n                            case \"!=\"         : return evaluate(left) !=         evaluate(right);\n                            case \"!==\"        : return evaluate(left) !==        evaluate(right);\n                            case \"<\"          : return evaluate(left) <          evaluate(right);\n                            case \"<=\"         : return evaluate(left) <=         evaluate(right);\n                            case \">\"          : return evaluate(left) >          evaluate(right);\n                            case \">=\"         : return evaluate(left) >=         evaluate(right);\n                            case \"in\"         : return evaluate(left) in         evaluate(right);\n                            case \"instanceof\" : return evaluate(left) instanceof evaluate(right);\n                        }\n                }\n                throw $NOT_CONSTANT;\n        };\n\n        return function(expr, yes, no) {\n                try {\n                        var val = evaluate(expr), ast;\n                        switch (typeof val) {\n                            case \"string\": ast =  [ \"string\", val ]; break;\n                            case \"number\": ast =  [ \"num\", val ]; break;\n                            case \"boolean\": ast =  [ \"name\", String(val) ]; break;\n                            default:\n                                if (val === null) { ast = [ \"atom\", \"null\" ]; break; }\n                                throw new Error(\"Can't handle constant of type: \" + (typeof val));\n                        }\n                        return yes.call(expr, ast, val);\n                } catch(ex) {\n                        if (ex === $NOT_CONSTANT) {\n                                if (expr[0] == \"binary\"\n                                    && (expr[1] == \"===\" || expr[1] == \"!==\")\n                                    && ((is_string(expr[2]) && is_string(expr[3]))\n                                        || (boolean_expr(expr[2]) && boolean_expr(expr[3])))) {\n                                        expr[1] = expr[1].substr(0, 2);\n                                }\n                                else if (no && expr[0] == \"binary\"\n                                         && (expr[1] == \"||\" || expr[1] == \"&&\")) {\n                                    // the whole expression is not constant but the lval may be...\n                                    try {\n                                        var lval = evaluate(expr[2]);\n                                        expr = ((expr[1] == \"&&\" && (lval ? expr[3] : lval))    ||\n                                                (expr[1] == \"||\" && (lval ? lval    : expr[3])) ||\n                                                expr);\n                                    } catch(ex2) {\n                                        // IGNORE... lval is not constant\n                                    }\n                                }\n                                return no ? no.call(expr, expr) : null;\n                        }\n                        else throw ex;\n                }\n        };\n\n})();\n\nfunction warn_unreachable(ast) {\n        if (!empty(ast))\n                warn(\"Dropping unreachable code: \" + gen_code(ast, true));\n};\n\nfunction prepare_ifs(ast) {\n        var w = ast_walker(), walk = w.walk;\n        // In this first pass, we rewrite ifs which abort with no else with an\n        // if-else.  For example:\n        //\n        // if (x) {\n        //     blah();\n        //     return y;\n        // }\n        // foobar();\n        //\n        // is rewritten into:\n        //\n        // if (x) {\n        //     blah();\n        //     return y;\n        // } else {\n        //     foobar();\n        // }\n        function redo_if(statements) {\n                statements = MAP(statements, walk);\n\n                for (var i = 0; i < statements.length; ++i) {\n                        var fi = statements[i];\n                        if (fi[0] != \"if\") continue;\n\n                        if (fi[3] && walk(fi[3])) continue;\n\n                        var t = walk(fi[2]);\n                        if (!aborts(t)) continue;\n\n                        var conditional = walk(fi[1]);\n\n                        var e_body = redo_if(statements.slice(i + 1));\n                        var e = e_body.length == 1 ? e_body[0] : [ \"block\", e_body ];\n\n                        return statements.slice(0, i).concat([ [\n                                fi[0],          // \"if\"\n                                conditional,    // conditional\n                                t,              // then\n                                e               // else\n                        ] ]);\n                }\n\n                return statements;\n        };\n\n        function redo_if_lambda(name, args, body) {\n                body = redo_if(body);\n                return [ this[0], name, args, body ];\n        };\n\n        function redo_if_block(statements) {\n                return [ this[0], statements != null ? redo_if(statements) : null ];\n        };\n\n        return w.with_walkers({\n                \"defun\": redo_if_lambda,\n                \"function\": redo_if_lambda,\n                \"block\": redo_if_block,\n                \"splice\": redo_if_block,\n                \"toplevel\": function(statements) {\n                        return [ this[0], redo_if(statements) ];\n                },\n                \"try\": function(t, c, f) {\n                        return [\n                                this[0],\n                                redo_if(t),\n                                c != null ? [ c[0], redo_if(c[1]) ] : null,\n                                f != null ? redo_if(f) : null\n                        ];\n                }\n        }, function() {\n                return walk(ast);\n        });\n};\n\nfunction for_side_effects(ast, handler) {\n        var w = ast_walker(), walk = w.walk;\n        var $stop = {}, $restart = {};\n        function stop() { throw $stop };\n        function restart() { throw $restart };\n        function found(){ return handler.call(this, this, w, stop, restart) };\n        function unary(op) {\n                if (op == \"++\" || op == \"--\")\n                        return found.apply(this, arguments);\n        };\n        return w.with_walkers({\n                \"try\": found,\n                \"throw\": found,\n                \"return\": found,\n                \"new\": found,\n                \"switch\": found,\n                \"break\": found,\n                \"continue\": found,\n                \"assign\": found,\n                \"call\": found,\n                \"if\": found,\n                \"for\": found,\n                \"for-in\": found,\n                \"while\": found,\n                \"do\": found,\n                \"return\": found,\n                \"unary-prefix\": unary,\n                \"unary-postfix\": unary,\n                \"defun\": found\n        }, function(){\n                while (true) try {\n                        walk(ast);\n                        break;\n                } catch(ex) {\n                        if (ex === $stop) break;\n                        if (ex === $restart) continue;\n                        throw ex;\n                }\n        });\n};\n\nfunction ast_lift_variables(ast) {\n        var w = ast_walker(), walk = w.walk, scope;\n        function do_body(body, env) {\n                var _scope = scope;\n                scope = env;\n                body = MAP(body, walk);\n                var hash = {}, names = MAP(env.names, function(type, name){\n                        if (type != \"var\") return MAP.skip;\n                        if (!env.references(name)) return MAP.skip;\n                        hash[name] = true;\n                        return [ name ];\n                });\n                if (names.length > 0) {\n                        // looking for assignments to any of these variables.\n                        // we can save considerable space by moving the definitions\n                        // in the var declaration.\n                        for_side_effects([ \"block\", body ], function(ast, walker, stop, restart) {\n                                if (ast[0] == \"assign\"\n                                    && ast[1] === true\n                                    && ast[2][0] == \"name\"\n                                    && HOP(hash, ast[2][1])) {\n                                        // insert the definition into the var declaration\n                                        for (var i = names.length; --i >= 0;) {\n                                                if (names[i][0] == ast[2][1]) {\n                                                        if (names[i][1]) // this name already defined, we must stop\n                                                                stop();\n                                                        names[i][1] = ast[3]; // definition\n                                                        names.push(names.splice(i, 1)[0]);\n                                                        break;\n                                                }\n                                        }\n                                        // remove this assignment from the AST.\n                                        var p = walker.parent();\n                                        if (p[0] == \"seq\") {\n                                                var a = p[2];\n                                                a.unshift(0, p.length);\n                                                p.splice.apply(p, a);\n                                        }\n                                        else if (p[0] == \"stat\") {\n                                                p.splice(0, p.length, \"block\"); // empty statement\n                                        }\n                                        else {\n                                                stop();\n                                        }\n                                        restart();\n                                }\n                                stop();\n                        });\n                        body.unshift([ \"var\", names ]);\n                }\n                scope = _scope;\n                return body;\n        };\n        function _vardefs(defs) {\n                var ret = null;\n                for (var i = defs.length; --i >= 0;) {\n                        var d = defs[i];\n                        if (!d[1]) continue;\n                        d = [ \"assign\", true, [ \"name\", d[0] ], d[1] ];\n                        if (ret == null) ret = d;\n                        else ret = [ \"seq\", d, ret ];\n                }\n                if (ret == null) {\n                        if (w.parent()[0] == \"for-in\")\n                                return [ \"name\", defs[0][0] ];\n                        return MAP.skip;\n                }\n                return [ \"stat\", ret ];\n        };\n        function _toplevel(body) {\n                return [ this[0], do_body(body, this.scope) ];\n        };\n        return w.with_walkers({\n                \"function\": function(name, args, body){\n                        for (var i = args.length; --i >= 0 && !body.scope.references(args[i]);)\n                                args.pop();\n                        if (!body.scope.references(name)) name = null;\n                        return [ this[0], name, args, do_body(body, body.scope) ];\n                },\n                \"defun\": function(name, args, body){\n                        if (!scope.references(name)) return MAP.skip;\n                        for (var i = args.length; --i >= 0 && !body.scope.references(args[i]);)\n                                args.pop();\n                        return [ this[0], name, args, do_body(body, body.scope) ];\n                },\n                \"var\": _vardefs,\n                \"toplevel\": _toplevel\n        }, function(){\n                return walk(ast_add_scope(ast));\n        });\n};\n\nfunction ast_squeeze(ast, options) {\n        options = defaults(options, {\n                make_seqs   : true,\n                dead_code   : true,\n                no_warnings : false,\n                keep_comps  : true\n        });\n\n        var w = ast_walker(), walk = w.walk;\n\n        function negate(c) {\n                var not_c = [ \"unary-prefix\", \"!\", c ];\n                switch (c[0]) {\n                    case \"unary-prefix\":\n                        return c[1] == \"!\" && boolean_expr(c[2]) ? c[2] : not_c;\n                    case \"seq\":\n                        c = slice(c);\n                        c[c.length - 1] = negate(c[c.length - 1]);\n                        return c;\n                    case \"conditional\":\n                        return best_of(not_c, [ \"conditional\", c[1], negate(c[2]), negate(c[3]) ]);\n                    case \"binary\":\n                        var op = c[1], left = c[2], right = c[3];\n                        if (!options.keep_comps) switch (op) {\n                            case \"<=\"  : return [ \"binary\", \">\", left, right ];\n                            case \"<\"   : return [ \"binary\", \">=\", left, right ];\n                            case \">=\"  : return [ \"binary\", \"<\", left, right ];\n                            case \">\"   : return [ \"binary\", \"<=\", left, right ];\n                        }\n                        switch (op) {\n                            case \"==\"  : return [ \"binary\", \"!=\", left, right ];\n                            case \"!=\"  : return [ \"binary\", \"==\", left, right ];\n                            case \"===\" : return [ \"binary\", \"!==\", left, right ];\n                            case \"!==\" : return [ \"binary\", \"===\", left, right ];\n                            case \"&&\"  : return best_of(not_c, [ \"binary\", \"||\", negate(left), negate(right) ]);\n                            case \"||\"  : return best_of(not_c, [ \"binary\", \"&&\", negate(left), negate(right) ]);\n                        }\n                        break;\n                }\n                return not_c;\n        };\n\n        function make_conditional(c, t, e) {\n                var make_real_conditional = function() {\n                        if (c[0] == \"unary-prefix\" && c[1] == \"!\") {\n                                return e ? [ \"conditional\", c[2], e, t ] : [ \"binary\", \"||\", c[2], t ];\n                        } else {\n                                return e ? best_of(\n                                        [ \"conditional\", c, t, e ],\n                                        [ \"conditional\", negate(c), e, t ]\n                                ) : [ \"binary\", \"&&\", c, t ];\n                        }\n                };\n                // shortcut the conditional if the expression has a constant value\n                return when_constant(c, function(ast, val){\n                        warn_unreachable(val ? e : t);\n                        return          (val ? t : e);\n                }, make_real_conditional);\n        };\n\n        function rmblock(block) {\n                if (block != null && block[0] == \"block\" && block[1]) {\n                        if (block[1].length == 1)\n                                block = block[1][0];\n                        else if (block[1].length == 0)\n                                block = [ \"block\" ];\n                }\n                return block;\n        };\n\n        function _lambda(name, args, body) {\n                return [ this[0], name, args, tighten(body, \"lambda\") ];\n        };\n\n        // this function does a few things:\n        // 1. discard useless blocks\n        // 2. join consecutive var declarations\n        // 3. remove obviously dead code\n        // 4. transform consecutive statements using the comma operator\n        // 5. if block_type == \"lambda\" and it detects constructs like if(foo) return ... - rewrite like if (!foo) { ... }\n        function tighten(statements, block_type) {\n                statements = MAP(statements, walk);\n\n                statements = _(statements).reduce(function(a, stat){\n                        if (stat[0] == \"block\") {\n                                if (stat[1]) {\n                                        a.push.apply(a, stat[1]);\n                                }\n                        } else {\n                                a.push(stat);\n                        }\n                        return a;\n                }, []);\n\n                statements = (function(a, prev){\n                        _(statements).forEach(function(cur){\n                                if (prev && ((cur[0] == \"var\" && prev[0] == \"var\") ||\n                                             (cur[0] == \"const\" && prev[0] == \"const\"))) {\n                                        prev[1] = prev[1].concat(cur[1]);\n                                } else {\n                                        a.push(cur);\n                                        prev = cur;\n                                }\n                        });\n                        return a;\n                })([]);\n\n                if (options.dead_code) statements = (function(a, has_quit){\n                        _(statements).forEach(function(st){\n                                if (has_quit) {\n                                        if (st[0] == \"function\" || st[0] == \"defun\") {\n                                                a.push(st);\n                                        }\n                                        else if (st[0] == \"var\" || st[0] == \"const\") {\n                                                if (!options.no_warnings)\n                                                        warn(\"Variables declared in unreachable code\");\n                                                st[1] = MAP(st[1], function(def){\n                                                        if (def[1] && !options.no_warnings)\n                                                                warn_unreachable([ \"assign\", true, [ \"name\", def[0] ], def[1] ]);\n                                                        return [ def[0] ];\n                                                });\n                                                a.push(st);\n                                        }\n                                        else if (!options.no_warnings)\n                                                warn_unreachable(st);\n                                }\n                                else {\n                                        a.push(st);\n                                        if (member(st[0], [ \"return\", \"throw\", \"break\", \"continue\" ]))\n                                                has_quit = true;\n                                }\n                        });\n                        return a;\n                })([]);\n\n                if (options.make_seqs) statements = (function(a, prev) {\n                        _(statements).forEach(function(cur){\n                                if (prev && prev[0] == \"stat\" && cur[0] == \"stat\") {\n                                        prev[1] = [ \"seq\", prev[1], cur[1] ];\n                                } else {\n                                        a.push(cur);\n                                        prev = cur;\n                                }\n                        });\n                        if (a.length >= 2\n                            && a[a.length-2][0] == \"stat\"\n                            && (a[a.length-1][0] == \"return\" || a[a.length-1][0] == \"throw\")\n                            && a[a.length-1][1])\n                        {\n                                a.splice(a.length - 2, 2,\n                                         [ a[a.length-1][0],\n                                           [ \"seq\", a[a.length-2][1], a[a.length-1][1] ]]);\n                        }\n                        return a;\n                })([]);\n\n                // this increases jQuery by 1K.  Probably not such a good idea after all..\n                // part of this is done in prepare_ifs anyway.\n                // if (block_type == \"lambda\") statements = (function(i, a, stat){\n                //         while (i < statements.length) {\n                //                 stat = statements[i++];\n                //                 if (stat[0] == \"if\" && !stat[3]) {\n                //                         if (stat[2][0] == \"return\" && stat[2][1] == null) {\n                //                                 a.push(make_if(negate(stat[1]), [ \"block\", statements.slice(i) ]));\n                //                                 break;\n                //                         }\n                //                         var last = last_stat(stat[2]);\n                //                         if (last[0] == \"return\" && last[1] == null) {\n                //                                 a.push(make_if(stat[1], [ \"block\", stat[2][1].slice(0, -1) ], [ \"block\", statements.slice(i) ]));\n                //                                 break;\n                //                         }\n                //                 }\n                //                 a.push(stat);\n                //         }\n                //         return a;\n                // })(0, []);\n\n                return statements;\n        };\n\n        function make_if(c, t, e) {\n                return when_constant(c, function(ast, val){\n                        if (val) {\n                                t = walk(t);\n                                warn_unreachable(e);\n                                return t || [ \"block\" ];\n                        } else {\n                                e = walk(e);\n                                warn_unreachable(t);\n                                return e || [ \"block\" ];\n                        }\n                }, function() {\n                        return make_real_if(c, t, e);\n                });\n        };\n\n        function abort_else(c, t, e) {\n                var ret = [ [ \"if\", negate(c), e ] ];\n                if (t[0] == \"block\") {\n                        if (t[1]) ret = ret.concat(t[1]);\n                } else {\n                        ret.push(t);\n                }\n                return walk([ \"block\", ret ]);\n        };\n\n        function make_real_if(c, t, e) {\n                c = walk(c);\n                t = walk(t);\n                e = walk(e);\n\n                if (empty(t)) {\n                        c = negate(c);\n                        t = e;\n                        e = null;\n                } else if (empty(e)) {\n                        e = null;\n                } else {\n                        // if we have both else and then, maybe it makes sense to switch them?\n                        (function(){\n                                var a = gen_code(c);\n                                var n = negate(c);\n                                var b = gen_code(n);\n                                if (b.length < a.length) {\n                                        var tmp = t;\n                                        t = e;\n                                        e = tmp;\n                                        c = n;\n                                }\n                        })();\n                }\n                if (empty(e) && empty(t))\n                        return [ \"stat\", c ];\n                var ret = [ \"if\", c, t, e ];\n                if (t[0] == \"if\" && empty(t[3]) && empty(e)) {\n                        ret = best_of(ret, walk([ \"if\", [ \"binary\", \"&&\", c, t[1] ], t[2] ]));\n                }\n                else if (t[0] == \"stat\") {\n                        if (e) {\n                                if (e[0] == \"stat\")\n                                        ret = best_of(ret, [ \"stat\", make_conditional(c, t[1], e[1]) ]);\n                                else if (aborts(e))\n                                        ret = abort_else(c, t, e);\n                        }\n                        else {\n                                ret = best_of(ret, [ \"stat\", make_conditional(c, t[1]) ]);\n                        }\n                }\n                else if (e && t[0] == e[0] && (t[0] == \"return\" || t[0] == \"throw\") && t[1] && e[1]) {\n                        ret = best_of(ret, [ t[0], make_conditional(c, t[1], e[1] ) ]);\n                }\n                else if (e && aborts(t)) {\n                        ret = [ [ \"if\", c, t ] ];\n                        if (e[0] == \"block\") {\n                                if (e[1]) ret = ret.concat(e[1]);\n                        }\n                        else {\n                                ret.push(e);\n                        }\n                        ret = walk([ \"block\", ret ]);\n                }\n                else if (t && aborts(e)) {\n                        ret = abort_else(c, t, e);\n                }\n                return ret;\n        };\n\n        function _do_while(cond, body) {\n                return when_constant(cond, function(cond, val){\n                        if (!val) {\n                                warn_unreachable(body);\n                                return [ \"block\" ];\n                        } else {\n                                return [ \"for\", null, null, null, walk(body) ];\n                        }\n                });\n        };\n\n        return w.with_walkers({\n                \"sub\": function(expr, subscript) {\n                        if (subscript[0] == \"string\") {\n                                var name = subscript[1];\n                                if (is_identifier(name))\n                                        return [ \"dot\", walk(expr), name ];\n                                else if (/^[1-9][0-9]*$/.test(name) || name === \"0\")\n                                        return [ \"sub\", walk(expr), [ \"num\", parseInt(name, 10) ] ];\n                        }\n                },\n                \"if\": make_if,\n                \"toplevel\": function(body) {\n                        return [ \"toplevel\", tighten(body) ];\n                },\n                \"switch\": function(expr, body) {\n                        var last = body.length - 1;\n                        return [ \"switch\", walk(expr), MAP(body, function(branch, i){\n                                var block = tighten(branch[1]);\n                                if (i == last && block.length > 0) {\n                                        var node = block[block.length - 1];\n                                        if (node[0] == \"break\" && !node[1])\n                                                block.pop();\n                                }\n                                return [ branch[0] ? walk(branch[0]) : null, block ];\n                        }) ];\n                },\n                \"function\": _lambda,\n                \"defun\": _lambda,\n                \"block\": function(body) {\n                        if (body) return rmblock([ \"block\", tighten(body) ]);\n                },\n                \"binary\": function(op, left, right) {\n                        return when_constant([ \"binary\", op, walk(left), walk(right) ], function yes(c){\n                                return best_of(walk(c), this);\n                        }, function no() {\n                                return function(){\n                                        if(op != \"==\" && op != \"!=\") return;\n                                        var l = walk(left), r = walk(right);\n                                        if(l && l[0] == \"unary-prefix\" && l[1] == \"!\" && l[2][0] == \"num\")\n                                                left = ['num', +!l[2][1]];\n                                        else if (r && r[0] == \"unary-prefix\" && r[1] == \"!\" && r[2][0] == \"num\")\n                                                right = ['num', +!r[2][1]];\n                                        return [\"binary\", op, left, right];\n                                }() || this;\n                        });\n                },\n                \"conditional\": function(c, t, e) {\n                        return make_conditional(walk(c), walk(t), walk(e));\n                },\n                \"try\": function(t, c, f) {\n                        return [\n                                \"try\",\n                                tighten(t),\n                                c != null ? [ c[0], tighten(c[1]) ] : null,\n                                f != null ? tighten(f) : null\n                        ];\n                },\n                \"unary-prefix\": function(op, expr) {\n                        expr = walk(expr);\n                        var ret = [ \"unary-prefix\", op, expr ];\n                        if (op == \"!\")\n                                ret = best_of(ret, negate(expr));\n                        return when_constant(ret, function(ast, val){\n                                return walk(ast); // it's either true or false, so minifies to !0 or !1\n                        }, function() { return ret });\n                },\n                \"name\": function(name) {\n                        switch (name) {\n                            case \"true\": return [ \"unary-prefix\", \"!\", [ \"num\", 0 ]];\n                            case \"false\": return [ \"unary-prefix\", \"!\", [ \"num\", 1 ]];\n                        }\n                },\n                \"while\": _do_while,\n                \"assign\": function(op, lvalue, rvalue) {\n                        lvalue = walk(lvalue);\n                        rvalue = walk(rvalue);\n                        var okOps = [ '+', '-', '/', '*', '%', '>>', '<<', '>>>', '|', '^', '&' ];\n                        if (op === true && lvalue[0] === \"name\" && rvalue[0] === \"binary\" &&\n                            ~okOps.indexOf(rvalue[1]) && rvalue[2][0] === \"name\" &&\n                            rvalue[2][1] === lvalue[1]) {\n                                return [ this[0], rvalue[1], lvalue, rvalue[3] ]\n                        }\n                        return [ this[0], op, lvalue, rvalue ];\n                }\n        }, function() {\n                for (var i = 0; i < 2; ++i) {\n                        ast = prepare_ifs(ast);\n                        ast = walk(ast);\n                }\n                return ast;\n        });\n};\n\n/* -----[ re-generate code from the AST ]----- */\n\nvar DOT_CALL_NO_PARENS = jsp.array_to_hash([\n        \"name\",\n        \"array\",\n        \"object\",\n        \"string\",\n        \"dot\",\n        \"sub\",\n        \"call\",\n        \"regexp\",\n        \"defun\"\n]);\n\nfunction make_string(str, ascii_only) {\n        var dq = 0, sq = 0;\n        str = str.replace(/[\\\\\\b\\f\\n\\r\\t\\x22\\x27\\u2028\\u2029\\0]/g, function(s){\n                switch (s) {\n                    case \"\\\\\": return \"\\\\\\\\\";\n                    case \"\\b\": return \"\\\\b\";\n                    case \"\\f\": return \"\\\\f\";\n                    case \"\\n\": return \"\\\\n\";\n                    case \"\\r\": return \"\\\\r\";\n                    case \"\\t\": return \"\\\\t\";\n                    case \"\\u2028\": return \"\\\\u2028\";\n                    case \"\\u2029\": return \"\\\\u2029\";\n                    case '\"': ++dq; return '\"';\n                    case \"'\": ++sq; return \"'\";\n                    case \"\\0\": return \"\\\\0\";\n                }\n                return s;\n        });\n        if (ascii_only) str = to_ascii(str);\n        if (dq > sq) return \"'\" + str.replace(/\\x27/g, \"\\\\'\") + \"'\";\n        else return '\"' + str.replace(/\\x22/g, '\\\\\"') + '\"';\n};\n\nfunction to_ascii(str) {\n        return str.replace(/[\\u0080-\\uffff]/g, function(ch) {\n                var code = ch.charCodeAt(0).toString(16);\n                while (code.length < 4) code = \"0\" + code;\n                return \"\\\\u\" + code;\n        });\n};\n\nvar SPLICE_NEEDS_BRACKETS = jsp.array_to_hash([ \"if\", \"while\", \"do\", \"for\", \"for-in\", \"with\" ]);\n\nfunction gen_code(ast, options) {\n        options = defaults(options, {\n                indent_start : 0,\n                indent_level : 4,\n                quote_keys   : false,\n                space_colon  : false,\n                beautify     : false,\n                ascii_only   : false,\n                inline_script: false\n        });\n        var beautify = !!options.beautify;\n        var indentation = 0,\n            newline = beautify ? \"\\n\" : \"\",\n            space = beautify ? \" \" : \"\";\n\n        function encode_string(str) {\n                var ret = make_string(str, options.ascii_only);\n                if (options.inline_script)\n                        ret = ret.replace(/<\\x2fscript([>\\/\\t\\n\\f\\r ])/gi, \"<\\\\/script$1\");\n                return ret;\n        };\n\n        function make_name(name) {\n                name = name.toString();\n                if (options.ascii_only)\n                        name = to_ascii(name);\n                return name;\n        };\n\n        function indent(line) {\n                if (line == null)\n                        line = \"\";\n                if (beautify)\n                        line = repeat_string(\" \", options.indent_start + indentation * options.indent_level) + line;\n                return line;\n        };\n\n        function with_indent(cont, incr) {\n                if (incr == null) incr = 1;\n                indentation += incr;\n                try { return cont.apply(null, slice(arguments, 1)); }\n                catch (e){}\n                finally { indentation -= incr; }\n        };\n\n        function add_spaces(a) {\n                if (beautify)\n                        return a.join(\" \");\n                var b = [];\n                for (var i = 0; i < a.length; ++i) {\n                        var next = a[i + 1];\n                        b.push(a[i]);\n                        if (next &&\n                            ((/[a-z0-9_\\x24]$/i.test(a[i].toString()) && /^[a-z0-9_\\x24]/i.test(next.toString())) ||\n                             (/[\\+\\-]$/.test(a[i].toString()) && /^[\\+\\-]/.test(next.toString())))) {\n                                b.push(\" \");\n                        }\n                }\n                return b.join(\"\");\n        };\n\n        function add_commas(a) {\n                return a.join(\",\" + space);\n        };\n\n        function parenthesize(expr) {\n                var gen = make(expr);\n                for (var i = 1; i < arguments.length; ++i) {\n                        var el = arguments[i];\n                        if ((el instanceof Function && el(expr)) || expr[0] == el)\n                                return \"(\" + gen + \")\";\n                }\n                return gen;\n        };\n\n        function best_of(a) {\n                if (a.length == 1) {\n                        return a[0];\n                }\n                if (a.length == 2) {\n                        var b = a[1];\n                        a = a[0];\n                        return a.length <= b.length ? a : b;\n                }\n                return best_of([ a[0], best_of(a.slice(1)) ]);\n        };\n\n        function needs_parens(expr) {\n                if (expr[0] == \"function\" || expr[0] == \"object\") {\n                        // dot/call on a literal function requires the\n                        // function literal itself to be parenthesized\n                        // only if it's the first \"thing\" in a\n                        // statement.  This means that the parent is\n                        // \"stat\", but it could also be a \"seq\" and\n                        // we're the first in this \"seq\" and the\n                        // parent is \"stat\", and so on.  Messy stuff,\n                        // but it worths the trouble.\n                        var a = slice(w.stack()), self = a.pop(), p = a.pop();\n                        while (p) {\n                                if (p[0] == \"stat\") return true;\n                                if (((p[0] == \"seq\" || p[0] == \"call\" || p[0] == \"dot\" || p[0] == \"sub\" || p[0] == \"conditional\") && p[1] === self) ||\n                                    ((p[0] == \"binary\" || p[0] == \"assign\" || p[0] == \"unary-postfix\") && p[2] === self)) {\n                                        self = p;\n                                        p = a.pop();\n                                } else {\n                                        return false;\n                                }\n                        }\n                }\n                return !HOP(DOT_CALL_NO_PARENS, expr[0]);\n        };\n\n        function make_num(num) {\n                var str = num.toString(10), a = [ str.replace(/^0\\./, \".\") ], m;\n                if (Math.floor(num) === num) {\n                        if (num >= 0) {\n                                a.push(\"0x\" + num.toString(16).toLowerCase(), // probably pointless\n                                       \"0\" + num.toString(8)); // same.\n                        } else {\n                                a.push(\"-0x\" + (-num).toString(16).toLowerCase(), // probably pointless\n                                       \"-0\" + (-num).toString(8)); // same.\n                        }\n                        if ((m = /^(.*?)(0+)$/.exec(num))) {\n                                a.push(m[1] + \"e\" + m[2].length);\n                        }\n                } else if ((m = /^0?\\.(0+)(.*)$/.exec(num))) {\n                        a.push(m[2] + \"e-\" + (m[1].length + m[2].length),\n                               str.substr(str.indexOf(\".\")));\n                }\n                return best_of(a);\n        };\n\n        var w = ast_walker();\n        var make = w.walk;\n        return w.with_walkers({\n                \"string\": encode_string,\n                \"num\": make_num,\n                \"name\": make_name,\n                \"debugger\": function(){ return \"debugger\" },\n                \"toplevel\": function(statements) {\n                        return make_block_statements(statements)\n                                .join(newline + newline);\n                },\n                \"splice\": function(statements) {\n                        var parent = w.parent();\n                        if (HOP(SPLICE_NEEDS_BRACKETS, parent)) {\n                                // we need block brackets in this case\n                                return make_block.apply(this, arguments);\n                        } else {\n                                return MAP(make_block_statements(statements, true),\n                                           function(line, i) {\n                                                   // the first line is already indented\n                                                   return i > 0 ? indent(line) : line;\n                                           }).join(newline);\n                        }\n                },\n                \"block\": make_block,\n                \"var\": function(defs) {\n                        return \"var \" + add_commas(MAP(defs, make_1vardef)) + \";\";\n                },\n                \"const\": function(defs) {\n                        return \"const \" + add_commas(MAP(defs, make_1vardef)) + \";\";\n                },\n                \"try\": function(tr, ca, fi) {\n                        var out = [ \"try\", make_block(tr) ];\n                        if (ca) out.push(\"catch\", \"(\" + ca[0] + \")\", make_block(ca[1]));\n                        if (fi) out.push(\"finally\", make_block(fi));\n                        return add_spaces(out);\n                },\n                \"throw\": function(expr) {\n                        return add_spaces([ \"throw\", make(expr) ]) + \";\";\n                },\n                \"new\": function(ctor, args) {\n                        args = args.length > 0 ? \"(\" + add_commas(MAP(args, function(expr){\n                                return parenthesize(expr, \"seq\");\n                        })) + \")\" : \"\";\n                        return add_spaces([ \"new\", parenthesize(ctor, \"seq\", \"binary\", \"conditional\", \"assign\", function(expr){\n                                var w = ast_walker(), has_call = {};\n                                try {\n                                        w.with_walkers({\n                                                \"call\": function() { throw has_call },\n                                                \"function\": function() { return this }\n                                        }, function(){\n                                                w.walk(expr);\n                                        });\n                                } catch(ex) {\n                                        if (ex === has_call)\n                                                return true;\n                                        throw ex;\n                                }\n                        }) + args ]);\n                },\n                \"switch\": function(expr, body) {\n                        return add_spaces([ \"switch\", \"(\" + make(expr) + \")\", make_switch_block(body) ]);\n                },\n                \"break\": function(label) {\n                        var out = \"break\";\n                        if (label != null)\n                                out += \" \" + make_name(label);\n                        return out + \";\";\n                },\n                \"continue\": function(label) {\n                        var out = \"continue\";\n                        if (label != null)\n                                out += \" \" + make_name(label);\n                        return out + \";\";\n                },\n                \"conditional\": function(co, th, el) {\n                        return add_spaces([ parenthesize(co, \"assign\", \"seq\", \"conditional\"), \"?\",\n                                            parenthesize(th, \"seq\"), \":\",\n                                            parenthesize(el, \"seq\") ]);\n                },\n                \"assign\": function(op, lvalue, rvalue) {\n                        if (op && op !== true) op += \"=\";\n                        else op = \"=\";\n                        return add_spaces([ make(lvalue), op, parenthesize(rvalue, \"seq\") ]);\n                },\n                \"dot\": function(expr) {\n                        var out = make(expr), i = 1;\n                        if (expr[0] == \"num\") {\n                                if (!/\\./.test(expr[1]))\n                                        out += \".\";\n                        } else if (needs_parens(expr))\n                                out = \"(\" + out + \")\";\n                        while (i < arguments.length)\n                                out += \".\" + make_name(arguments[i++]);\n                        return out;\n                },\n                \"call\": function(func, args) {\n                        var f = make(func);\n                        if (f.charAt(0) != \"(\" && needs_parens(func))\n                                f = \"(\" + f + \")\";\n                        return f + \"(\" + add_commas(MAP(args, function(expr){\n                                return parenthesize(expr, \"seq\");\n                        })) + \")\";\n                },\n                \"function\": make_function,\n                \"defun\": make_function,\n                \"if\": function(co, th, el) {\n                        var out = [ \"if\", \"(\" + make(co) + \")\", el ? make_then(th) : make(th) ];\n                        if (el) {\n                                out.push(\"else\", make(el));\n                        }\n                        return add_spaces(out);\n                },\n                \"for\": function(init, cond, step, block) {\n                        var out = [ \"for\" ];\n                        init = (init != null ? make(init) : \"\").replace(/;*\\s*$/, \";\" + space);\n                        cond = (cond != null ? make(cond) : \"\").replace(/;*\\s*$/, \";\" + space);\n                        step = (step != null ? make(step) : \"\").replace(/;*\\s*$/, \"\");\n                        var args = init + cond + step;\n                        if (args == \"; ; \") args = \";;\";\n                        out.push(\"(\" + args + \")\", make(block));\n                        return add_spaces(out);\n                },\n                \"for-in\": function(vvar, key, hash, block) {\n                        return add_spaces([ \"for\", \"(\" +\n                                            (vvar ? make(vvar).replace(/;+$/, \"\") : make(key)),\n                                            \"in\",\n                                            make(hash) + \")\", make(block) ]);\n                },\n                \"while\": function(condition, block) {\n                        return add_spaces([ \"while\", \"(\" + make(condition) + \")\", make(block) ]);\n                },\n                \"do\": function(condition, block) {\n                        return add_spaces([ \"do\", make(block), \"while\", \"(\" + make(condition) + \")\" ]) + \";\";\n                },\n                \"return\": function(expr) {\n                        var out = [ \"return\" ];\n                        if (expr != null) out.push(make(expr));\n                        return add_spaces(out) + \";\";\n                },\n                \"binary\": function(operator, lvalue, rvalue) {\n                        var left = make(lvalue), right = make(rvalue);\n                        // XXX: I'm pretty sure other cases will bite here.\n                        //      we need to be smarter.\n                        //      adding parens all the time is the safest bet.\n                        if (member(lvalue[0], [ \"assign\", \"conditional\", \"seq\" ]) ||\n                            lvalue[0] == \"binary\" && PRECEDENCE[operator] > PRECEDENCE[lvalue[1]] ||\n                            lvalue[0] == \"function\" && needs_parens(this)) {\n                                left = \"(\" + left + \")\";\n                        }\n                        if (member(rvalue[0], [ \"assign\", \"conditional\", \"seq\" ]) ||\n                            rvalue[0] == \"binary\" && PRECEDENCE[operator] >= PRECEDENCE[rvalue[1]] &&\n                            !(rvalue[1] == operator && member(operator, [ \"&&\", \"||\", \"*\" ]))) {\n                                right = \"(\" + right + \")\";\n                        }\n                        else if (!beautify && options.inline_script && (operator == \"<\" || operator == \"<<\")\n                                 && rvalue[0] == \"regexp\" && /^script/i.test(rvalue[1])) {\n                                right = \" \" + right;\n                        }\n                        return add_spaces([ left, operator, right ]);\n                },\n                \"unary-prefix\": function(operator, expr) {\n                        var val = make(expr);\n                        if (!(expr[0] == \"num\" || (expr[0] == \"unary-prefix\" && !HOP(OPERATORS, operator + expr[1])) || !needs_parens(expr)))\n                                val = \"(\" + val + \")\";\n                        return operator + (jsp.is_alphanumeric_char(operator.charAt(0)) ? \" \" : \"\") + val;\n                },\n                \"unary-postfix\": function(operator, expr) {\n                        var val = make(expr);\n                        if (!(expr[0] == \"num\" || (expr[0] == \"unary-postfix\" && !HOP(OPERATORS, operator + expr[1])) || !needs_parens(expr)))\n                                val = \"(\" + val + \")\";\n                        return val + operator;\n                },\n                \"sub\": function(expr, subscript) {\n                        var hash = make(expr);\n                        if (needs_parens(expr))\n                                hash = \"(\" + hash + \")\";\n                        return hash + \"[\" + make(subscript) + \"]\";\n                },\n                \"object\": function(props) {\n                        var obj_needs_parens = needs_parens(this);\n                        if (props.length == 0)\n                                return obj_needs_parens ? \"({})\" : \"{}\";\n                        var out = \"{\" + newline + with_indent(function(){\n                                return MAP(props, function(p){\n                                        if (p.length == 3) {\n                                                // getter/setter.  The name is in p[0], the arg.list in p[1][2], the\n                                                // body in p[1][3] and type (\"get\" / \"set\") in p[2].\n                                                return indent(make_function(p[0], p[1][2], p[1][3], p[2], true));\n                                        }\n                                        var key = p[0], val = parenthesize(p[1], \"seq\");\n                                        if (options.quote_keys) {\n                                                key = encode_string(key);\n                                        } else if ((typeof key == \"number\" || !beautify && +key + \"\" == key)\n                                                   && parseFloat(key) >= 0) {\n                                                key = make_num(+key);\n                                        } else if (!is_identifier(key)) {\n                                                key = encode_string(key);\n                                        }\n                                        return indent(add_spaces(beautify && options.space_colon\n                                                                 ? [ key, \":\", val ]\n                                                                 : [ key + \":\", val ]));\n                                }).join(\",\" + newline);\n                        }) + newline + indent(\"}\");\n                        return obj_needs_parens ? \"(\" + out + \")\" : out;\n                },\n                \"regexp\": function(rx, mods) {\n                        return \"/\" + rx + \"/\" + mods;\n                },\n                \"array\": function(elements) {\n                        if (elements.length == 0) return \"[]\";\n                        return add_spaces([ \"[\", add_commas(MAP(elements, function(el, i){\n                                if (!beautify && el[0] == \"atom\" && el[1] == \"undefined\") return i === elements.length - 1 ? \",\" : \"\";\n                                return parenthesize(el, \"seq\");\n                        })), \"]\" ]);\n                },\n                \"stat\": function(stmt) {\n                        return make(stmt).replace(/;*\\s*$/, \";\");\n                },\n                \"seq\": function() {\n                        return add_commas(MAP(slice(arguments), make));\n                },\n                \"label\": function(name, block) {\n                        return add_spaces([ make_name(name), \":\", make(block) ]);\n                },\n                \"with\": function(expr, block) {\n                        return add_spaces([ \"with\", \"(\" + make(expr) + \")\", make(block) ]);\n                },\n                \"atom\": function(name) {\n                        return make_name(name);\n                }\n        }, function(){ return make(ast) });\n\n        // The squeezer replaces \"block\"-s that contain only a single\n        // statement with the statement itself; technically, the AST\n        // is correct, but this can create problems when we output an\n        // IF having an ELSE clause where the THEN clause ends in an\n        // IF *without* an ELSE block (then the outer ELSE would refer\n        // to the inner IF).  This function checks for this case and\n        // adds the block brackets if needed.\n        function make_then(th) {\n                if (th == null) return \";\";\n                if (th[0] == \"do\") {\n                        // https://github.com/mishoo/UglifyJS/issues/#issue/57\n                        // IE croaks with \"syntax error\" on code like this:\n                        //     if (foo) do ... while(cond); else ...\n                        // we need block brackets around do/while\n                        return make_block([ th ]);\n                }\n                var b = th;\n                while (true) {\n                        var type = b[0];\n                        if (type == \"if\") {\n                                if (!b[3])\n                                        // no else, we must add the block\n                                        return make([ \"block\", [ th ]]);\n                                b = b[3];\n                        }\n                        else if (type == \"while\" || type == \"do\") b = b[2];\n                        else if (type == \"for\" || type == \"for-in\") b = b[4];\n                        else break;\n                }\n                return make(th);\n        };\n\n        function make_function(name, args, body, keyword, no_parens) {\n                var out = keyword || \"function\";\n                if (name) {\n                        out += \" \" + make_name(name);\n                }\n                out += \"(\" + add_commas(MAP(args, make_name)) + \")\";\n                out = add_spaces([ out, make_block(body) ]);\n                return (!no_parens && needs_parens(this)) ? \"(\" + out + \")\" : out;\n        };\n\n        function must_has_semicolon(node) {\n                switch (node[0]) {\n                    case \"with\":\n                    case \"while\":\n                        return empty(node[2]); // `with' or `while' with empty body?\n                    case \"for\":\n                    case \"for-in\":\n                        return empty(node[4]); // `for' with empty body?\n                    case \"if\":\n                        if (empty(node[2]) && !node[3]) return true; // `if' with empty `then' and no `else'\n                        if (node[3]) {\n                                if (empty(node[3])) return true; // `else' present but empty\n                                return must_has_semicolon(node[3]); // dive into the `else' branch\n                        }\n                        return must_has_semicolon(node[2]); // dive into the `then' branch\n                }\n        };\n\n        function make_block_statements(statements, noindent) {\n                for (var a = [], last = statements.length - 1, i = 0; i <= last; ++i) {\n                        var stat = statements[i];\n                        var code = make(stat);\n                        if (code != \";\") {\n                                if (!beautify && i == last && !must_has_semicolon(stat)) {\n                                        code = code.replace(/;+\\s*$/, \"\");\n                                }\n                                a.push(code);\n                        }\n                }\n                return noindent ? a : MAP(a, indent);\n        };\n\n        function make_switch_block(body) {\n                var n = body.length;\n                if (n == 0) return \"{}\";\n                return \"{\" + newline + MAP(body, function(branch, i){\n                        var has_body = branch[1].length > 0, code = with_indent(function(){\n                                return indent(branch[0]\n                                              ? add_spaces([ \"case\", make(branch[0]) + \":\" ])\n                                              : \"default:\");\n                        }, 0.5) + (has_body ? newline + with_indent(function(){\n                                return make_block_statements(branch[1]).join(newline);\n                        }) : \"\");\n                        if (!beautify && has_body && i < n - 1)\n                                code += \";\";\n                        return code;\n                }).join(newline) + newline + indent(\"}\");\n        };\n\n        function make_block(statements) {\n                if (!statements) return \";\";\n                if (statements.length == 0) return \"{}\";\n                return \"{\" + newline + with_indent(function(){\n                        return make_block_statements(statements).join(newline);\n                }) + newline + indent(\"}\");\n        };\n\n        function make_1vardef(def) {\n                var name = def[0], val = def[1];\n                if (val != null)\n                        name = add_spaces([ make_name(name), \"=\", parenthesize(val, \"seq\") ]);\n                return name;\n        };\n\n};\n\nfunction split_lines(code, max_line_length) {\n        var splits = [ 0 ];\n        jsp.parse(function(){\n                var next_token = jsp.tokenizer(code);\n                var last_split = 0;\n                var prev_token;\n                function current_length(tok) {\n                        return tok.pos - last_split;\n                };\n                function split_here(tok) {\n                        last_split = tok.pos;\n                        splits.push(last_split);\n                };\n                function custom(){\n                        var tok = next_token.apply(this, arguments);\n                        out: {\n                                if (prev_token) {\n                                        if (prev_token.type == \"keyword\") break out;\n                                }\n                                if (current_length(tok) > max_line_length) {\n                                        switch (tok.type) {\n                                            case \"keyword\":\n                                            case \"atom\":\n                                            case \"name\":\n                                            case \"punc\":\n                                                split_here(tok);\n                                                break out;\n                                        }\n                                }\n                        }\n                        prev_token = tok;\n                        return tok;\n                };\n                custom.context = function() {\n                        return next_token.context.apply(this, arguments);\n                };\n                return custom;\n        }());\n        return splits.map(function(pos, i){\n                return code.substring(pos, splits[i + 1] || code.length);\n        }).join(\"\\n\");\n};\n\n/* -----[ Utilities ]----- */\n\nfunction repeat_string(str, i) {\n        if (i <= 0) return \"\";\n        if (i == 1) return str;\n        var d = repeat_string(str, i >> 1);\n        d += d;\n        if (i & 1) d += str;\n        return d;\n};\n\nfunction defaults(args, defs) {\n        var ret = {};\n        if (args === true)\n                args = {};\n        for (var i in defs) if (HOP(defs, i)) {\n                ret[i] = (args && HOP(args, i)) ? args[i] : defs[i];\n        }\n        return ret;\n};\n\nfunction is_identifier(name) {\n        return /^[a-z_$][a-z0-9_$]*$/i.test(name)\n                && name != \"this\"\n                && !HOP(jsp.KEYWORDS_ATOM, name)\n                && !HOP(jsp.RESERVED_WORDS, name)\n                && !HOP(jsp.KEYWORDS, name);\n};\n\nfunction HOP(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n\n// some utilities\n\nvar MAP;\n\n(function(){\n        MAP = function(a, f, o) {\n                var ret = [], top = [], i;\n                function doit() {\n                        var val = f.call(o, a[i], i);\n                        if (val instanceof AtTop) {\n                                val = val.v;\n                                if (val instanceof Splice) {\n                                        top.push.apply(top, val.v);\n                                } else {\n                                        top.push(val);\n                                }\n                        }\n                        else if (val != skip) {\n                                if (val instanceof Splice) {\n                                        ret.push.apply(ret, val.v);\n                                } else {\n                                        ret.push(val);\n                                }\n                        }\n                };\n                if (a instanceof Array) for (i = 0; i < a.length; ++i) doit();\n                else for (i in a) if (HOP(a, i)) doit();\n                return top.concat(ret);\n        };\n        MAP.at_top = function(val) { return new AtTop(val) };\n        MAP.splice = function(val) { return new Splice(val) };\n        var skip = MAP.skip = {};\n        function AtTop(val) { this.v = val };\n        function Splice(val) { this.v = val };\n})();\n\n\n//>> Start Uglifui\nvar process = {};\n(function ( exports ) {\n//>> End Uglifui\n/* -----[ Exports ]----- */\n\nexports.ast_walker = ast_walker;\nexports.ast_mangle = ast_mangle;\nexports.ast_squeeze = ast_squeeze;\nexports.ast_lift_variables = ast_lift_variables;\nexports.gen_code = gen_code;\nexports.ast_add_scope = ast_add_scope;\nexports.set_logger = function(logger) { warn = logger };\nexports.make_string = make_string;\nexports.split_lines = split_lines;\nexports.MAP = MAP;\n\n//>> Start Uglifui\n\n// keep this last!\n//exports.ast_squeeze_more = require(\"./squeeze-more\").ast_squeeze_more;\n\n})( process );\n\nglobal.process = process;\n\n})( this );\n//>> End Uglifui\n","//>> Start Uglifui\n(function ( global ) {\n\nvar jsp = global.parsejs, //require(\"./parse-js\"),\n    pro = global.process, //require(\"./process\"),\n//>> End Uglifui\n    slice = jsp.slice,\n    member = jsp.member,\n    curry = jsp.curry,\n    MAP = pro.MAP,\n    PRECEDENCE = jsp.PRECEDENCE,\n    OPERATORS = jsp.OPERATORS;\n\nfunction ast_squeeze_more(ast) {\n        var w = pro.ast_walker(), walk = w.walk, scope;\n        function with_scope(s, cont) {\n                var save = scope, ret;\n                scope = s;\n                ret = cont();\n                scope = save;\n                return ret;\n        };\n        function _lambda(name, args, body) {\n                return [ this[0], name, args, with_scope(body.scope, curry(MAP, body, walk)) ];\n        };\n        return w.with_walkers({\n                \"toplevel\": function(body) {\n                        return [ this[0], with_scope(this.scope, curry(MAP, body, walk)) ];\n                },\n                \"function\": _lambda,\n                \"defun\": _lambda,\n                \"new\": function(ctor, args) {\n                        if (ctor[0] == \"name\") {\n                                if (ctor[1] == \"Array\" && !scope.has(\"Array\")) {\n                                        if (args.length != 1) {\n                                                return [ \"array\", args ];\n                                        } else {\n                                                return walk([ \"call\", [ \"name\", \"Array\" ], args ]);\n                                        }\n                                } else if (ctor[1] == \"Object\" && !scope.has(\"Object\")) {\n                                        if (!args.length) {\n                                                return [ \"object\", [] ];\n                                        } else {\n                                                return walk([ \"call\", [ \"name\", \"Object\" ], args ]);\n                                        }\n                                } else if ((ctor[1] == \"RegExp\" || ctor[1] == \"Function\" || ctor[1] == \"Error\") && !scope.has(ctor[1])) {\n                                        return walk([ \"call\", [ \"name\", ctor[1] ], args]);\n                                }\n                        }\n                },\n                \"call\": function(expr, args) {\n                        if (expr[0] == \"dot\" && expr[2] == \"toString\" && args.length == 0) {\n                                // foo.toString()  ==>  foo+\"\"\n                                return [ \"binary\", \"+\", expr[1], [ \"string\", \"\" ]];\n                        }\n                        if (expr[0] == \"name\") {\n                                if (expr[1] == \"Array\" && args.length != 1 && !scope.has(\"Array\")) {\n                                        return [ \"array\", args ];\n                                }\n                                if (expr[1] == \"Object\" && !args.length && !scope.has(\"Object\")) {\n                                        return [ \"object\", [] ];\n                                }\n                                if (expr[1] == \"String\" && !scope.has(\"String\")) {\n                                        return [ \"binary\", \"+\", args[0], [ \"string\", \"\" ]];\n                                }\n                        }\n                }\n        }, function() {\n                return walk(pro.ast_add_scope(ast));\n        });\n}\n//>> Start Uglifui\nvar squeezemore = {};\n(function ( exports ) {\n//>> End Uglifui\nexports.ast_squeeze_more = ast_squeeze_more;\n//>> Start Uglifui\n})( squeezemore );\n\n//global.squeezemore = squeezemore;\nglobal.process.ast_squeeze_more = squeezemore.ast_squeeze_more;\n\n})( this );\n//>> End Uglifui\n","//>> Start Uglifui\n// #! /usr/bin/env node\n// -*- js2 -*-\n(function ( global ) {\nglobal.uglify = function ( code, flags ) {\n  \n//global.sys = require(/^v0\\.[012]/.test(process.version) ? \"sys\" : \"util\");\n//var fs = require(\"fs\");\nvar uglify = {\n      parser : global.parsejs,\n      uglify : global.process\n    },//require(\"uglify-js\"), // symlink ~/.node_libraries/uglify-js.js to ../uglify-js.js\n//>> End Uglifui\n    jsp = uglify.parser,\n    pro = uglify.uglify;\n\n\npro.set_logger(function(msg){\n//>> Start Uglifui\n        //global.console.log(msg); // TODO:: Wrap this so there is visual output as well\n//>> End Uglifui\n});\n\nvar options = {\n        ast: false,\n        mangle: true,\n        mangle_toplevel: false,\n        squeeze: true,\n        make_seqs: true,\n        dead_code: true,\n        beautify: false,\n        verbose: false,\n        show_copyright: true,\n        out_same_file: false,\n        max_line_length: 32 * 1024,\n        extra: false,\n        unsafe: false,            // XXX: extra & unsafe?  but maybe we don't want both, so....\n        beautify_options: {\n                indent_level: 4,\n                indent_start: 0,\n                quote_keys: false,\n                space_colon: false\n        },\n        output: true            // stdout\n};\n//>> Start Uglifui\nvar args = flags;\n//>> End Uglifui\nvar filename;\n\nout: while (args.length > 0) {\n        var v = args.shift();\n        switch (v) {\n            case \"-b\":\n            case \"--beautify\":\n                options.beautify = true;\n                break;\n            case \"-i\":\n            case \"--indent\":\n                options.beautify_options.indent_level = args.shift();\n                break;\n            case \"-q\":\n            case \"--quote-keys\":\n                options.beautify_options.quote_keys = true;\n                break;\n            case \"-mt\":\n            case \"--mangle-toplevel\":\n                options.mangle_toplevel = true;\n                break;\n            case \"--no-mangle\":\n            case \"-nm\":\n                options.mangle = false;\n                break;\n            case \"--no-squeeze\":\n            case \"-ns\":\n                options.squeeze = false;\n                break;\n            case \"--no-seqs\":\n                options.make_seqs = false;\n                break;\n            case \"--no-dead-code\":\n                options.dead_code = false;\n                break;\n            case \"--no-copyright\":\n            case \"-nc\":\n                options.show_copyright = false;\n                break;\n            case \"-o\":\n            case \"--output\":\n                options.output = args.shift();\n                break;\n            case \"--overwrite\":\n                options.out_same_file = true;\n                break;\n            case \"-v\":\n            case \"--verbose\":\n                options.verbose = true;\n                break;\n            case \"--ast\":\n                options.ast = true;\n                break;\n            case \"--extra\":\n                options.extra = true;\n                break;\n            case \"--unsafe\":\n                options.unsafe = true;\n                break;\n            case \"--max-line-len\":\n                options.max_line_length = args.shift();\n                break;\n            default:\n                filename = v;\n                break out;\n        }\n}\n//>> Start Uglifui\n/*\nif (filename) {\n        fs.readFile(filename, \"utf8\", function(err, text){\n                output(squeeze_it(text));\n        });\n} else {\n        var stdin = process.openStdin();\n        stdin.setEncoding(\"utf8\");\n        var text = \"\";\n        stdin.on(\"data\", function(chunk){\n                text += chunk;\n        });\n        stdin.on(\"end\", function() {\n                output(squeeze_it(text));\n        });\n}*/\nreturn squeeze_it( code );\n\n/*\nfunction output(text) {\n        var out;\n        if (options.out_same_file && filename)\n                options.output = filename;\n        if (options.output === true) {\n                out = process.stdout;\n        } else {\n                out = fs.createWriteStream(options.output, {\n                        flags: \"w\",\n                        encoding: \"utf8\",\n                        mode: 0644\n                });\n        }\n        out.write(text);\n        out.end();\n};\n*/\n//>> End Uglifui\n\n// --------- main ends here.\n\nfunction show_copyright(comments) {\n        var ret = \"\";\n        for (var i = 0; i < comments.length; ++i) {\n                var c = comments[i];\n                if (c.type == \"comment1\") {\n                        ret += \"//\" + c.value + \"\\n\";\n                } else {\n                        ret += \"/*\" + c.value + \"*/\";\n                }\n        }\n        return ret;\n};\n\nfunction squeeze_it(code) {\n        var result = \"\";\n        if (options.show_copyright) {\n                var initial_comments = [];\n                // keep first comment\n                var tok = jsp.tokenizer(code, false), c;\n                c = tok();\n                var prev = null;\n                while (/^comment/.test(c.type) && (!prev || prev == c.type)) {\n                        initial_comments.push(c);\n                        prev = c.type;\n                        c = tok();\n                }\n                result += show_copyright(initial_comments);\n        }\n        //try {\n                var ast = time_it(\"parse\", function(){ return jsp.parse(code); });\n                if (options.mangle)\n                        ast = time_it(\"mangle\", function(){ return pro.ast_mangle(ast, options.mangle_toplevel); });\n                if (options.squeeze)\n                        ast = time_it(\"squeeze\", function(){\n                                ast = pro.ast_squeeze(ast, {\n                                        make_seqs : options.make_seqs,\n                                        dead_code : options.dead_code,\n                                        extra     : options.extra\n                                });\n                                if (options.unsafe)\n                                        ast = pro.ast_squeeze_more(ast);\n                                return ast;\n                        });\n                if (options.ast)\n                        return sys.inspect(ast, null, null);\n                result += time_it(\"generate\", function(){ return pro.gen_code(ast, options.beautify && options.beautify_options) });\n                if (!options.beautify && options.max_line_length) {\n                        result = time_it(\"split\", function(){ return pro.split_lines(result, options.max_line_length) });\n                }\n                return result;\n        //} catch(ex) {\n          //>> Start Uglifui\n/*\n                sys.debug(ex.stack);\n                sys.debug(sys.inspect(ex));\n                sys.debug(JSON.stringify(ex));\n*/\n          //>> End Uglifui\n\n        //}\n};\n\nfunction time_it(name, cont) {\n        if (!options.verbose)\n                return cont();\n        var t1 = new Date().getTime();\n        try { return cont(); }\n        //>> Start Uglifui\n        catch(e){}\n        //finally { sys.debug(\"// \" + name + \": \" + ((new Date().getTime() - t1) / 1000).toFixed(3) + \" sec.\"); }\n        //>> End Uglifui\n\n};\n\n\n//>> Start Uglifui\n};\n\n})( this );\n//>> End Uglifui\n","jQuery(function($){\n\n  var _currentBuildVersion = $('script[src*=\"builderapp\"]').data('currentbuildversion');\n\n  // var run = false;\n  // $(':checkbox').attr('checked', true);\n\n  // Add dynamic toggle buttons; should inverse current selection per group, not just toggle all on OR off only\n  $(\"body\").on(\"click\", \"a.toggle-group\", function() {\n    var group = $(this).closest(\".features\");\n    var checkbox = $(group).find(':checkbox');\n    checkbox.each(function(){\n      var $this = $(this), deps, i;\n      $this.attr('checked', !$this.is(':checked'));\n\n      // check ones that this relies on\n      if ( $this.is(':checked') ) {\n        deps = Modulizr._dependencies[ $this.closest('li').attr('id').replace('_','-') ];\n        for( i in deps ) {\n          $( '#' + deps[ i ] ).find('input:checkbox').attr('checked', 'checked');\n        }\n      }\n      // uncheck ones that rely on this\n      else {\n        _( Modulizr._dependencies ).each(function( depArr, name ) {\n          if ( _(depArr).contains( $this.closest('li').attr('id').replace('_','-') ) ) {\n            $( '#' + name ).find('input:checkbox').removeAttr('checked');\n          }\n        });\n      }\n    });\n    //event.preventDefault();\n    // Always hide the build\n    $('#modulizrize').html('');\n    $(\"#generatedSource\").removeClass('sourceView').val( '' );\n    return false;\n  });\n  $(\"fieldset\").not(\"#group-plugins, #group-extensibility\").find(\"legend.wt\").append('<a href=\"#\" class=\"toggle-group\">toggle</a>');\n\n  $('li input:checkbox').change(function(){\n    var $this = $(this), deps, i;\n    // check ones that this relies on\n    if ( $this.is(':checked') ) {\n      deps = Modulizr._dependencies[ $this.closest('li').attr('id').replace('_','-') ] ||  Modulizr._dependencies[ $this.closest('li').attr('id') ];\n      for( i in deps ) {\n        $( '#' + deps[ i ] ).find('input:checkbox').attr('checked', 'checked');\n      }\n    }\n    // uncheck ones that rely on this\n    else {\n      _( Modulizr._dependencies ).each(function( depArr, name ) {\n        if ( _(depArr).contains( $this.closest('li').attr('id').replace('_','-') ) || _(depArr).contains( $this.closest('li').attr('id') ) ) {\n          $( '#' + name ).find('input:checkbox').removeAttr('checked');\n        }\n      });\n    }\n    // Always hide the build\n    $('#modulizrize').html('');\n    $(\"#generatedSource\").removeClass('sourceView').val( '' );\n  });\n\n  // Special hide/show stuff for custom css classes\n  $('#cssclasses input:checkbox').change(function(){\n    var checked =  $(this).is(':checked');\n    $('#cssprefixcontainer').toggle(checked);\n  });\n\n  // Don't let people add two shivs\n  $('#printshiv input:checkbox').change(function(){\n    if ( $(this).is(':checked') ) {\n      $('#shiv input:checkbox').removeAttr('checked');\n    }\n  });\n  $('#shiv input:checkbox').change(function(){\n    if ( $(this).is(':checked') ) {\n      $('#printshiv input:checkbox').removeAttr('checked');\n    }\n  });\n\n  $('#dontmin').change(function(){\n    $('#generate').click();\n  });\n  // Generate the custom download\n  $('#generate')\n    .find('span').remove().end()\n    .click(function(){\n    // Get all the tests and enhancements\n    var tests = [],\n        mLoad =  $('#load input:checked').length,\n        selections = true; // ALWAYS ON !!!!! $('#selectioncomment input:checked').length;\n\n    // Preload iframe for client side download polyfill\n    if(!Modernizr.download) {\n      var iframe = document.createElement(\"iframe\");\n\n      iframe.src = \"http://saveasbro.com/\";\n      iframe.setAttribute(\"style\",\"position: absolute; visibility: hidden; left: -999em;\");\n      iframe.id = \"saveasbro\";\n      document.body.appendChild(iframe);\n    }\n\n    $('.features input:checked').each(function(){\n      // Special case for Modernizr.load and selection comment\n      if ( this.value !== 'load' && this.value !== 'selectioncomment' ) {\n        tests.push( this.value.replace('_', '-') );\n      }\n    });\n\n    function fixUglifyBugs( modBuild ) {\n      // !! needs to be there, unfortch.\n      return modBuild.replace( \"return a.history&&history.pushState\", \"return !!(a.history&&history.pushState)\" );\n    }\n\n    function addExtras (modularBuild) {\n\n      modularBuild = ';'+modularBuild+';';\n      var prefixClass;\n\n      if ( $('#cssclasses input').is(':checked') && $.trim( $('#cssprefix').val() ) ) {\n        prefixClass = $('#cssprefix').val().replace(/\\s+/g, \"\");\n        // Normal Case\n        var matches = modularBuild.match(/[\"']\\ js\\ [\"']\\s*\\+\\s*([a-zA-Z]+).join\\([\"'] [\"']\\)/);\n        if ( matches && matches.length > 1 ) {\n          // replace the class injector\n          modularBuild = modularBuild.replace(\n            /[\"']\\ js\\ [\"']\\s*\\+\\s*([a-zA-Z]+).join\\([\"'] [\"']\\)/,\n            '\" '+prefixClass+'js '+prefixClass+'\"+'+matches[1]+'.join(\" '+prefixClass+'\")'\n          );\n        }\n        // AddTest Case\n        var matchesAT = modularBuild.match(/className\\s*\\+=\\s*[\"']\\s['\"]/);\n        if ( matchesAT && matchesAT.length ) {\n          // replace the class injector\n          modularBuild = modularBuild.replace(\n            /className\\s*\\+=\\s*[\"']\\s['\"]/,\n            'className+=\" '+prefixClass+'\"'\n          );\n        }\n      }\n\n      if ( selections ) {\n        if ( mLoad ) {\n          tests.push('load');\n        }\n        modularBuild = \"\\/* Modernizr \" + _currentBuildVersion + \" (Custom Build) | MIT & BSD\\n * Build: http://modernizr.com/download/#-\"+\n          _(tests).map(function(x){ return x.replace('-','_'); }).join('-') +\n          ( prefixClass ? '-cssclassprefix:' + prefixClass.replace(/\\-/g, '!') : '' ) +\n          \"\\n */\\n\" + modularBuild;\n      }\n\n      return modularBuild;\n    }\n\n    function handleInjection(modularBuild) {\n      var extra = '';\n      if ( $('#cssclasses input').is(':checked') && $.trim( $('#cssprefix').val() ) ) {\n        extra = '-cssclassprefix:'+$('#cssprefix').val().replace(/\\s+/g, \"\").replace(/\\-/g,'!');\n      }\n      window.location = '#-' + _(tests).map(function(x){ return x.replace('-', '_'); }).join('-') + extra;\n      $(\"#generatedSource\").addClass('sourceView').val( modularBuild );\n    }\n\n    function buildFile( modularBuild, appended ) {\n      var uglifiedModularBuild = modularBuild + ( appended || '' );\n      if ( ! $('#dontmin').is(':checked') ) {\n        uglifiedModularBuild = uglify( uglifiedModularBuild, ['--extra', '--unsafe'] );\n      }\n\n      // Track the different builds\n      if ( window._gaq ) {\n        _gaq.push(['_trackPageview', '/build/'+[].slice.call($('ul li input:checked').map(function(key, val){ return ($(this).closest('li')[0].id || undefined); }), 0).join(\"^\")]);\n      }\n      if ( window.GoSquared && window.GoSquared.DefaultTracker && window.GoSquared.DefaultTracker.TrackView ) {\n        GoSquared.DefaultTracker.TrackView('/build/'+_currentBuildVersion+'/', 'Download: '+_currentBuildVersion);\n      }\n\n      uglifiedModularBuild = fixUglifyBugs( addExtras( uglifiedModularBuild ) );\n      handleInjection(uglifiedModularBuild);\n\n      // Client side file saving without flash!\n      window.URL = window.webkitURL || window.URL;\n\n      if (Modernizr.blobbuilder) {\n        window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n                             window.MozBlobBuilder;\n      }\n\n      var a = document.querySelector('.btn2'),\n          typer = document.querySelector('#generatedSource'),\n          fileName = \"modernizr.custom.\"+((+new Date) + \"\").substr(8),\n          iframe = document.querySelector('#saveasbro');\n\n      a.style.display = \"none\";\n\n      if(Modernizr.download && Modernizr.bloburls && (Modernizr.blobbuilder || Modernizr.blob)) {\n        var bb;\n\n        if (Modernizr.blob) {\n          bb = new Blob([typer.value], { type: \"application/octet-stream\" });\n          a.href = window.URL.createObjectURL(bb);\n        } else if(Modernizr.blobbuilder) {\n          bb = new BlobBuilder();\n          bb.append(typer.value);\n          a.href = window.URL.createObjectURL(bb.getBlob(\"application/octet-stream\"));\n        }\n\n        a.download = fileName+\".js\";\n        a.style.display = \"inline-block\";\n\n        a.onclick = function(e) {\n          // Need a small delay for the revokeObjectURL to work properly.\n          setTimeout(function() {\n            window.URL.revokeObjectURL(a.href);\n          }, 1500);\n        };\n      } else {\n        iframe.contentWindow.postMessage(JSON.stringify({name:fileName, data: typer.value, formdata: Modernizr.formdata}),\"http://saveasbro.com\");\n\n        window.onmessage = function(e) {\n          e = e || window.event;\n\n          var origin = e.origin || e.domain || e.uri;\n          if(origin !== \"http://saveasbro.com\") return;\n          a.href = \"http://saveasbro.com/download/\" + e.data;\n          a.style.display = \"inline-block\";\n        };\n      }\n\n      $('#buildArea').fadeIn();\n    }\n\n    function satisfyCustomDetects(cur, appended) {\n        var finishCount = 0,\n            finishResp = appended;\n        function customFinish(resp){\n          finishResp += resp;\n          if ( --finishCount ) {\n            return;\n          }\n          else {\n            buildFile(cur,finishResp);\n          }\n        }\n        // New section for logic for pulling in feature-detects from the feature-detects folder\n        var comChecked = $('#community-feature-detects input:checked');\n        finishCount = comChecked.length;\n        if ( !finishCount ) {\n          buildFile(cur, appended);\n        }\n        else {\n          comChecked.each(function(){\n            $.ajax({\n              dataType: 'text',\n              cache   : false,\n              type    : 'GET',\n              url     : '/i/js/modernizr-git/feature-detects/'+(this.value).replace(/_/g,'-')+'.js',\n              success : function ( d ) {\n                customFinish( d );\n              }\n            });\n          });\n        }\n    }\n\n    // Grab the modernizr source and run it through modulizr\n    $.ajax({\n      dataType: 'text',\n      cache: false,\n      type: 'GET',\n      url: '/downloads/modernizr-' + _currentBuildVersion + '.js',\n      success:function(script) {\n        // Call the modulr function to create a modular build\n        var modularBuild = Modulizr.ize(script, [].slice.call(tests,0), function(){}),\n            both, externals = {};\n\n        function bothDone ( extName, extStr ) {\n          externals[ extName ] = extStr;\n\n          if ( both ) {\n            satisfyCustomDetects( modularBuild, externals.printshiv + externals.load );\n          }\n          both = true;\n        }\n\n        if ( $('#load input:checked').length ) {\n          $.ajax({\n            dataType: 'text',\n            cache   : false,\n            type    : 'GET',\n            url     : '/i/js/modernizr.load.1.5.4.js',\n            success : function ( loader ) {\n              //buildFile( modularBuild, loader );\n              bothDone( 'load', loader );\n            }\n          });\n        }\n        else {\n          bothDone( 'load', '' );\n          //buildFile( modularBuild );\n        }\n\n        if ( $('#printshiv input:checked').length ) {\n          $.ajax({\n            dataType: 'text',\n            cache   : false,\n            type    : 'GET',\n            url     : '/i/js/html5shiv-printshiv-3.7.1.js',\n            success : function ( printshiv ) {\n              bothDone( 'printshiv', printshiv );\n              //buildFile( modularBuild, respond );\n            }\n          });\n        }\n        else {\n          bothDone( 'printshiv', '' );\n        }\n      }\n    });\n    return false;\n  });\n\n  // Check for preselections\n  function loadFromHash () {\n    var hash = window.location.hash;\n    if ( hash.length > 1 ) {\n      hash = hash.substr(1);\n      var selections = hash.split('-');\n      // Unselect everything\n      $('input[type=\"checkbox\"]').removeAttr('checked');\n      for(var i in selections) {\n        if ( selections[i].match( /cssclassprefix/ ) ) {\n          var cssclassprefix = selections[i].substr(15).replace(/\\!/g,'-');\n          $('#cssprefix').val(cssclassprefix);\n        }\n        else if (selections[i] == 'dontmin'){\n          $('#dontmin').attr('checked', 'checked');\n        }\n        else {\n          $(document).find('input[value=\"'+selections[i]+'\"]').attr('checked', 'checked');\n        }\n      }\n      var checked = $('#cssclasses input:checkbox').is(':checked');\n      $('#cssprefixcontainer').toggle(checked);\n\n      $('#generate').click();\n    }\n  }\n  loadFromHash();\n});\n\n\n\n/*! http://mths.be/details v0.0.4 by @mathias | includes http://mths.be/noselect v1.0.3 */\n;(function(document, $) {\n\n  var proto = $.fn,\n      details,\n      // :'(\n      isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]',\n      // Feature test for native `<details>` support\n      isDetailsSupported = (function(doc) {\n        var el = doc.createElement('details'),\n            fake,\n            root,\n            diff;\n        if (!('open' in el)) {\n          return false;\n        }\n        root = doc.body || (function() {\n          var de = doc.documentElement;\n          fake = true;\n          return de.insertBefore(doc.createElement('body'), de.firstElementChild || de.firstChild);\n        }());\n        el.innerHTML = '<summary>a</summary>b';\n        el.style.display = 'block';\n        root.appendChild(el);\n        diff = el.offsetHeight;\n        el.open = true;\n        diff = diff != el.offsetHeight;\n        root.removeChild(el);\n        if (fake) {\n          root.parentNode.removeChild(root);\n        }\n        return diff;\n      }(document)),\n      toggleOpen = function($details, $detailsSummary, $detailsNotSummary, toggle) {\n        var isOpen = typeof $details.attr('open') == 'string',\n            close = isOpen && toggle || !isOpen && !toggle;\n        if (close) {\n          $details.removeClass('open').prop('open', false).triggerHandler('close.details');\n          $detailsSummary.attr('aria-expanded', false);\n          $detailsNotSummary.hide();\n        } else {\n          $details.addClass('open').prop('open', true).triggerHandler('open.details');\n          $detailsSummary.attr('aria-expanded', true);\n          $detailsNotSummary.show();\n        }\n      };\n\n  /* http://mths.be/noselect v1.0.3 */\n  proto.noSelect = function() {\n\n    // Since the string 'none' is used three times, storing it in a variable gives better results after minification\n    var none = 'none';\n\n    // onselectstart and ondragstart for WebKit & IE\n    // onmousedown for WebKit & Opera\n    return this.bind('selectstart dragstart mousedown', function() {\n      return false;\n    }).css({\n      'MozUserSelect': none,\n      'msUserSelect': none,\n      'webkitUserSelect': none,\n      'userSelect': none\n    });\n\n  };\n\n  // Execute the fallback only if there’s no native `details` support\n  if (isDetailsSupported) {\n\n    details = proto.details = function() {\n\n      return this.each(function() {\n        var $details = $(this),\n            $summary = $('summary', $details);\n        $summary.attr({\n          'role': 'button',\n          'aria-expanded': $details.prop('open')\n        }).on('click', function() {\n          // the value of the `open` property is the old value\n          var close = $details.prop('open');\n          $summary.attr('aria-expanded', !close);\n          $details.triggerHandler((close ? 'close' : 'open') + '.details');\n        });\n      });\n\n    };\n\n    details.support = isDetailsSupported;\n\n  } else {\n\n    details = proto.details = function() {\n\n      // Loop through all `details` elements\n      return this.each(function() {\n\n        // Store a reference to the current `details` element in a variable\n        var $details = $(this),\n            // Store a reference to the `summary` element of the current `details` element (if any) in a variable\n            $detailsSummary = $('summary', $details),\n            // Do the same for the info within the `details` element\n            $detailsNotSummary = $details.children(':not(summary)'),\n            // This will be used later to look for direct child text nodes\n            $detailsNotSummaryContents = $details.contents(':not(summary)');\n\n        // If there is no `summary` in the current `details` element…\n        if (!$detailsSummary.length) {\n          // …create one with default text\n          $detailsSummary = $('<summary>').text('Details').prependTo($details);\n        }\n\n        // Look for direct child text nodes\n        if ($detailsNotSummary.length != $detailsNotSummaryContents.length) {\n          // Wrap child text nodes in a `span` element\n          $detailsNotSummaryContents.filter(function() {\n            // Only keep the node in the collection if it’s a text node containing more than only whitespace\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#space-character\n            return this.nodeType == 3 && /[^ \\t\\n\\f\\r]/.test(this.data);\n          }).wrap('<span>');\n          // There are now no direct child text nodes anymore — they’re wrapped in `span` elements\n          $detailsNotSummary = $details.children(':not(summary)');\n        }\n\n        // Hide content unless there’s an `open` attribute\n        toggleOpen($details, $detailsSummary, $detailsNotSummary);\n\n        // Add `role=button` and set the `tabindex` of the `summary` element to `0` to make it keyboard accessible\n        $detailsSummary.attr('role', 'button').noSelect().prop('tabIndex', 0).on('click', function() {\n          // Focus on the `summary` element\n          $detailsSummary.focus();\n          // Toggle the `open` and `aria-expanded` attributes and the `open` property of the `details` element and display the additional info\n          toggleOpen($details, $detailsSummary, $detailsNotSummary, true);\n        }).keyup(function(event) {\n          if (32 == event.keyCode && !isOpera || 13 == event.keyCode) {\n            // Space or Enter is pressed — trigger the `click` event on the `summary` element\n            // Opera already seems to trigger the `click` event when Enter is pressed\n            event.preventDefault();\n            $detailsSummary.click();\n          }\n        });\n\n      });\n\n    };\n\n    details.support = isDetailsSupported;\n\n  }\n\n}(document, jQuery));\n\n\n\n$(function() {\n  $('html').addClass($.fn.details.support ? 'details' : 'no-details');\n  $('details').details();\n});\n\n"]}